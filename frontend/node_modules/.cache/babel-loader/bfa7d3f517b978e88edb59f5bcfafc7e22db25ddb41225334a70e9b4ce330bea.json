{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\NeighborTradeMarket\\\\frontend\\\\src\\\\components\\\\admin\\\\ProdutosPendentes.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Button, Modal, Form, Alert, Card, Badge, Spinner, Row, Col, Image, Carousel, ListGroup } from 'react-bootstrap';\nimport api, { adminService } from '../../services/api';\nimport Header from '../layout/Header';\n\n// Helper function to get the base URL for storage\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst getStorageBaseUrl = () => {\n  const apiUrl = api.defaults.baseURL || '';\n  // Remove '/api' from the end if it exists\n  return apiUrl.endsWith('/api') ? apiUrl.slice(0, -4) : apiUrl;\n};\nconst ProdutosPendentes = () => {\n  _s();\n  var _selectedAnuncio$cate, _selectedAnuncio$tipo, _selectedAnuncio$util, _selectedAnuncio$util2, _selectedAnuncio$apro;\n  const [produtos, setProdutos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [message, setMessage] = useState('');\n\n  // --- State for Modals ---\n  const [showDetailsModal, setShowDetailsModal] = useState(false);\n  const [selectedAnuncio, setSelectedAnuncio] = useState(null);\n  const [rejectionReason, setRejectionReason] = useState(''); // Motivo da rejeição\n  const [isSubmitting, setIsSubmitting] = useState(false); // Para disable botões durante API call\n  // --- --- --- --- --- --- ---\n\n  useEffect(() => {\n    loadProdutosPendentes();\n  }, []);\n  const loadProdutosPendentes = async () => {\n    setMessage('');\n    setError('');\n    try {\n      setLoading(true);\n      const response = await adminService.getAnunciosPendentes();\n      setProdutos(Array.isArray(response === null || response === void 0 ? void 0 : response.data) ? response.data : []);\n    } catch (err) {\n      console.error('Erro ao carregar anúncios pendentes:', err); // Changed text\n      setError(err.message || 'Erro ao carregar anúncios pendentes. Por favor, tente novamente.');\n      setProdutos([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // --- Modal Handling ---\n  const openDetailsModal = produto => {\n    setSelectedAnuncio(produto);\n    setRejectionReason(''); // Reset reason when opening\n    setShowDetailsModal(true);\n  };\n  const closeDetailsModal = () => {\n    setShowDetailsModal(false);\n    setSelectedAnuncio(null);\n    setRejectionReason('');\n  };\n  // --- --- --- --- --- --- ---\n\n  // --- Actions from Modal ---\n  const handleApprove = async () => {\n    if (!selectedAnuncio) return;\n    setMessage('');\n    setError('');\n    setIsSubmitting(true);\n    try {\n      console.log('Aprovar anúncio ID:', selectedAnuncio.ID_Anuncio);\n      await adminService.aprovarAnuncio(selectedAnuncio.ID_Anuncio);\n      setMessage('Anúncio aprovado com sucesso!');\n      setProdutos(produtos.filter(p => p.ID_Anuncio !== selectedAnuncio.ID_Anuncio));\n      closeDetailsModal();\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Erro ao aprovar anúncio:', err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Erro ao aprovar anúncio. Por favor, tente novamente.');\n      // Keep modal open on error?\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const handleReject = async () => {\n    if (!selectedAnuncio || !rejectionReason.trim()) {\n      setError('Por favor, introduza um motivo para a rejeição.'); // Give specific feedback\n      setTimeout(() => setError(''), 3000); // Clear feedback after a while\n      return;\n    }\n    setMessage('');\n    setError('');\n    setIsSubmitting(true);\n    try {\n      console.log('Rejeitar anúncio ID:', selectedAnuncio.ID_Anuncio, 'Motivo:', rejectionReason);\n      // Ensure adminService.rejeitarAnuncio exists and takes (id, reason)\n      await adminService.rejeitarAnuncio(selectedAnuncio.ID_Anuncio, rejectionReason);\n      setMessage('Anúncio rejeitado com sucesso!');\n      setProdutos(produtos.filter(p => p.ID_Anuncio !== selectedAnuncio.ID_Anuncio));\n      closeDetailsModal();\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error('Erro ao rejeitar anúncio:', err);\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || 'Erro ao rejeitar anúncio. Por favor, tente novamente.');\n      // Keep modal open on error?\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  // --- --- --- --- --- --- ---\n\n  const formatCurrency = value => {\n    return new Intl.NumberFormat('pt-PT', {\n      style: 'currency',\n      currency: 'EUR'\n    }).format(value);\n  };\n  const renderImages = (images, style = {\n    height: '300px',\n    backgroundColor: '#f8f9fa'\n  }, className = 'card-img-top') => {\n    const storageBaseUrl = getStorageBaseUrl();\n    if (!images || images.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `text-center p-4 bg-light d-flex align-items-center justify-content-center ${className}`,\n        style: style,\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-image text-muted fa-3x\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this);\n    }\n    if (images.length === 1) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: style,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `${storageBaseUrl}/storage/${images[0].imagem.Caminho}`,\n          alt: \"Imagem do produto\",\n          className: className,\n          style: {\n            height: '100%',\n            width: '100%',\n            objectFit: 'contain'\n          },\n          onError: e => {\n            e.target.onerror = null;\n            e.target.src = 'https://via.placeholder.com/300x180?text=Erro';\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(Carousel, {\n      style: style,\n      className: className,\n      interval: null,\n      children: images.map((img, index) => /*#__PURE__*/_jsxDEV(Carousel.Item, {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `${storageBaseUrl}/storage/${img.imagem.Caminho}`,\n          alt: `Imagem ${index + 1}`,\n          style: {\n            height: '100%',\n            width: '100%',\n            objectFit: 'contain'\n          },\n          onError: e => {\n            e.target.onerror = null;\n            e.target.src = 'https://via.placeholder.com/300x180?text=Erro';\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 25\n        }, this)\n      }, img.ID_Imagem || index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"my-5\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: \"shadow-sm mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n          className: \"bg-primary text-white\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"mb-0\",\n            children: \"An\\xFAncios Pendentes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: [message && /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"success\",\n            onClose: () => setMessage(''),\n            dismissible: true,\n            children: message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 37\n          }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"danger\",\n            onClose: () => setError(''),\n            dismissible: true,\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 35\n          }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-5\",\n            children: [/*#__PURE__*/_jsxDEV(Spinner, {\n              animation: \"border\",\n              variant: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-3\",\n              children: \"A carregar an\\xFAncios pendentes...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 29\n          }, this) : produtos.length === 0 ? /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"info\",\n            children: \"N\\xE3o h\\xE1 an\\xFAncios pendentes de aprova\\xE7\\xE3o.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(Row, {\n            xs: 1,\n            md: 2,\n            lg: 3,\n            className: \"g-4\",\n            children: produtos.map(produto => {\n              var _produto$categorium, _produto$tipo_item, _produto$utilizador, _produto$aprovacao;\n              return /*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(Card, {\n                  className: \"h-100 shadow-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card-img-wrapper\",\n                    style: {\n                      height: '250px',\n                      overflow: 'hidden',\n                      backgroundColor: '#f8f9fa'\n                    },\n                    children: renderImages(produto.item_imagems, {\n                      height: '100%'\n                    }, '')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                    className: \"d-flex flex-column\",\n                    children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                      className: \"h5 mb-2\",\n                      children: produto.Titulo\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 186,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(Card.Subtitle, {\n                      className: \"mb-2 text-primary fw-bold\",\n                      children: formatCurrency(produto.Preco)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 187,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"d-flex justify-content-between align-items-center mb-2 small\",\n                      children: [/*#__PURE__*/_jsxDEV(Badge, {\n                        bg: \"info\",\n                        pill: true,\n                        children: ((_produto$categorium = produto.categorium) === null || _produto$categorium === void 0 ? void 0 : _produto$categorium.Descricao_Categoria) || 'Sem categoria'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 191,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                        bg: \"secondary\",\n                        pill: true,\n                        children: ((_produto$tipo_item = produto.tipo_item) === null || _produto$tipo_item === void 0 ? void 0 : _produto$tipo_item.Descricao_TipoItem) || 'Não especificado'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 192,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 190,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mt-auto border-top pt-2 small text-muted\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [\"Utilizador: \", ((_produto$utilizador = produto.utilizador) === null || _produto$utilizador === void 0 ? void 0 : _produto$utilizador.Name) || 'N/A']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 195,\n                        columnNumber: 54\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"float-end\",\n                        children: [\"Submetido: \", (_produto$aprovacao = produto.aprovacao) !== null && _produto$aprovacao !== void 0 && _produto$aprovacao.Data_Submissao ? new Date(produto.aprovacao.Data_Submissao).toLocaleDateString() : 'N/A']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 196,\n                        columnNumber: 54\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 194,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Card.Footer, {\n                    className: \"bg-light text-center d-flex flex-column flex-md-row justify-content-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"success\",\n                      size: \"sm\",\n                      onClick: async () => {\n                        setSelectedAnuncio(produto);\n                        setIsSubmitting(true);\n                        setMessage('');\n                        setError('');\n                        try {\n                          await adminService.aprovarAnuncio(produto.ID_Anuncio);\n                          setMessage('Anúncio aprovado com sucesso!');\n                          setProdutos(produtos => produtos.filter(p => p.ID_Anuncio !== produto.ID_Anuncio));\n                        } catch (err) {\n                          var _err$response3, _err$response3$data;\n                          setError(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || 'Erro ao aprovar anúncio. Por favor, tente novamente.');\n                        } finally {\n                          setIsSubmitting(false);\n                        }\n                      },\n                      disabled: isSubmitting,\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-check me-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 222,\n                        columnNumber: 9\n                      }, this), \" Aceitar\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 202,\n                      columnNumber: 5\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"danger\",\n                      size: \"sm\",\n                      onClick: () => {\n                        setSelectedAnuncio(produto);\n                        setShowDetailsModal(true);\n                      },\n                      disabled: isSubmitting,\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-times me-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 233,\n                        columnNumber: 9\n                      }, this), \" Recusar\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 224,\n                      columnNumber: 5\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"outline-primary\",\n                      size: \"sm\",\n                      onClick: () => openDetailsModal(produto),\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-eye me-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 240,\n                        columnNumber: 9\n                      }, this), \" Ver Detalhes\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 235,\n                      columnNumber: 5\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 41\n                }, this)\n              }, produto.ID_Anuncio, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 37\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showDetailsModal,\n      onHide: closeDetailsModal,\n      size: \"lg\",\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Detalhes do An\\xFAncio Pendente\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: selectedAnuncio && /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: renderImages(selectedAnuncio.item_imagems, {\n              height: '400px'\n            }, '')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: selectedAnuncio.Titulo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n              variant: \"flush\",\n              children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Pre\\xE7o:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 53\n                }, this), \" \", formatCurrency(selectedAnuncio.Preco)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Categoria:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 53\n                }, this), \" \", ((_selectedAnuncio$cate = selectedAnuncio.categorium) === null || _selectedAnuncio$cate === void 0 ? void 0 : _selectedAnuncio$cate.Descricao_Categoria) || 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Tipo:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 53\n                }, this), \" \", ((_selectedAnuncio$tipo = selectedAnuncio.tipo_item) === null || _selectedAnuncio$tipo === void 0 ? void 0 : _selectedAnuncio$tipo.Descricao_TipoItem) || 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Descri\\xE7\\xE3o:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 80\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    maxHeight: '150px',\n                    overflowY: 'auto',\n                    whiteSpace: 'pre-wrap'\n                  },\n                  children: selectedAnuncio.Descricao || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 85\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Utilizador:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 41\n                }, this), \" \", ((_selectedAnuncio$util = selectedAnuncio.utilizador) === null || _selectedAnuncio$util === void 0 ? void 0 : _selectedAnuncio$util.Name) || 'N/A', \" (\", ((_selectedAnuncio$util2 = selectedAnuncio.utilizador) === null || _selectedAnuncio$util2 === void 0 ? void 0 : _selectedAnuncio$util2.Email) || 'N/A', \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Submetido em:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 41\n                }, this), \" \", (_selectedAnuncio$apro = selectedAnuncio.aprovacao) !== null && _selectedAnuncio$apro !== void 0 && _selectedAnuncio$apro.Data_Submissao ? new Date(selectedAnuncio.aprovacao.Data_Submissao).toLocaleString() : 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Motivo da Rejei\\xE7\\xE3o (se aplic\\xE1vel)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                as: \"textarea\",\n                rows: 2,\n                value: rejectionReason,\n                onChange: e => setRejectionReason(e.target.value),\n                placeholder: \"Se rejeitar, indique aqui o motivo...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 33\n            }, this), error.includes('motivo') && /*#__PURE__*/_jsxDEV(Alert, {\n              variant: \"warning\",\n              className: \"mt-2 py-1 px-2 small\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 62\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: closeDetailsModal,\n          disabled: isSubmitting,\n          children: \"Fechar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"danger\",\n          onClick: handleReject,\n          disabled: isSubmitting || !rejectionReason.trim(),\n          children: isSubmitting ? /*#__PURE__*/_jsxDEV(Spinner, {\n            as: \"span\",\n            animation: \"border\",\n            size: \"sm\",\n            role: \"status\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 41\n          }, this) : 'Rejeitar'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"success\",\n          onClick: handleApprove,\n          disabled: isSubmitting,\n          children: isSubmitting ? /*#__PURE__*/_jsxDEV(Spinner, {\n            as: \"span\",\n            animation: \"border\",\n            size: \"sm\",\n            role: \"status\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 42\n          }, this) : 'Aprovar'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: '18mm'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(ProdutosPendentes, \"KYIUpl14rVfQWJHwfTe3q+BOYyA=\");\n_c = ProdutosPendentes;\nexport default ProdutosPendentes;\nvar _c;\n$RefreshReg$(_c, \"ProdutosPendentes\");","map":{"version":3,"names":["React","useState","useEffect","Container","Button","Modal","Form","Alert","Card","Badge","Spinner","Row","Col","Image","Carousel","ListGroup","api","adminService","Header","jsxDEV","_jsxDEV","Fragment","_Fragment","getStorageBaseUrl","apiUrl","defaults","baseURL","endsWith","slice","ProdutosPendentes","_s","_selectedAnuncio$cate","_selectedAnuncio$tipo","_selectedAnuncio$util","_selectedAnuncio$util2","_selectedAnuncio$apro","produtos","setProdutos","loading","setLoading","error","setError","message","setMessage","showDetailsModal","setShowDetailsModal","selectedAnuncio","setSelectedAnuncio","rejectionReason","setRejectionReason","isSubmitting","setIsSubmitting","loadProdutosPendentes","response","getAnunciosPendentes","Array","isArray","data","err","console","openDetailsModal","produto","closeDetailsModal","handleApprove","log","ID_Anuncio","aprovarAnuncio","filter","p","_err$response","_err$response$data","handleReject","trim","setTimeout","rejeitarAnuncio","_err$response2","_err$response2$data","formatCurrency","value","Intl","NumberFormat","style","currency","format","renderImages","images","height","backgroundColor","className","storageBaseUrl","length","children","fileName","_jsxFileName","lineNumber","columnNumber","src","imagem","Caminho","alt","width","objectFit","onError","e","target","onerror","interval","map","img","index","Item","ID_Imagem","Body","variant","onClose","dismissible","animation","xs","md","lg","_produto$categorium","_produto$tipo_item","_produto$utilizador","_produto$aprovacao","overflow","item_imagems","Title","Titulo","Subtitle","Preco","bg","pill","categorium","Descricao_Categoria","tipo_item","Descricao_TipoItem","utilizador","Name","aprovacao","Data_Submissao","Date","toLocaleDateString","Footer","size","onClick","_err$response3","_err$response3$data","disabled","show","onHide","closeButton","maxHeight","overflowY","whiteSpace","Descricao","Email","toLocaleString","Group","Label","Control","as","rows","onChange","placeholder","includes","role","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/NeighborTradeMarket/frontend/src/components/admin/ProdutosPendentes.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Button, Modal, Form, Alert, Card, Badge, Spinner, Row, Col, Image, Carousel, ListGroup } from 'react-bootstrap';\nimport api, { adminService } from '../../services/api';\nimport Header from '../layout/Header';\n\n// Helper function to get the base URL for storage\nconst getStorageBaseUrl = () => {\n    const apiUrl = api.defaults.baseURL || '';\n    // Remove '/api' from the end if it exists\n    return apiUrl.endsWith('/api') ? apiUrl.slice(0, -4) : apiUrl;\n};\n\nconst ProdutosPendentes = () => {\n    const [produtos, setProdutos] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState('');\n    const [message, setMessage] = useState('');\n    \n    // --- State for Modals ---\n    const [showDetailsModal, setShowDetailsModal] = useState(false);\n    const [selectedAnuncio, setSelectedAnuncio] = useState(null);\n    const [rejectionReason, setRejectionReason] = useState(''); // Motivo da rejeição\n    const [isSubmitting, setIsSubmitting] = useState(false); // Para disable botões durante API call\n    // --- --- --- --- --- --- ---\n\n    useEffect(() => {\n        loadProdutosPendentes();\n    }, []);\n\n    const loadProdutosPendentes = async () => {\n        setMessage('');\n        setError('');\n        try {\n            setLoading(true);\n            const response = await adminService.getAnunciosPendentes();\n            setProdutos(Array.isArray(response?.data) ? response.data : []);\n        } catch (err) {\n            console.error('Erro ao carregar anúncios pendentes:', err); // Changed text\n            setError(err.message || 'Erro ao carregar anúncios pendentes. Por favor, tente novamente.');\n            setProdutos([]);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // --- Modal Handling ---\n    const openDetailsModal = (produto) => {\n        setSelectedAnuncio(produto);\n        setRejectionReason(''); // Reset reason when opening\n        setShowDetailsModal(true);\n    };\n\n    const closeDetailsModal = () => {\n        setShowDetailsModal(false);\n        setSelectedAnuncio(null);\n        setRejectionReason('');\n    };\n    // --- --- --- --- --- --- ---\n\n    // --- Actions from Modal ---\n    const handleApprove = async () => {\n        if (!selectedAnuncio) return;\n        \n        setMessage('');\n        setError('');\n        setIsSubmitting(true);\n        try {\n            console.log('Aprovar anúncio ID:', selectedAnuncio.ID_Anuncio);\n            await adminService.aprovarAnuncio(selectedAnuncio.ID_Anuncio);\n            setMessage('Anúncio aprovado com sucesso!');\n            setProdutos(produtos.filter(p => p.ID_Anuncio !== selectedAnuncio.ID_Anuncio));\n            closeDetailsModal();\n        } catch (err) {\n            console.error('Erro ao aprovar anúncio:', err);\n            setError(err.response?.data?.message || 'Erro ao aprovar anúncio. Por favor, tente novamente.');\n            // Keep modal open on error?\n        } finally {\n             setIsSubmitting(false);\n        }\n    };\n\n    const handleReject = async () => {\n        if (!selectedAnuncio || !rejectionReason.trim()) {\n             setError('Por favor, introduza um motivo para a rejeição.'); // Give specific feedback\n             setTimeout(() => setError(''), 3000); // Clear feedback after a while\n            return;\n        }\n        setMessage('');\n        setError('');\n        setIsSubmitting(true);\n        try {\n             console.log('Rejeitar anúncio ID:', selectedAnuncio.ID_Anuncio, 'Motivo:', rejectionReason);\n            // Ensure adminService.rejeitarAnuncio exists and takes (id, reason)\n            await adminService.rejeitarAnuncio(selectedAnuncio.ID_Anuncio, rejectionReason);\n            setMessage('Anúncio rejeitado com sucesso!');\n            setProdutos(produtos.filter(p => p.ID_Anuncio !== selectedAnuncio.ID_Anuncio));\n            closeDetailsModal();\n        } catch (err) {\n            console.error('Erro ao rejeitar anúncio:', err);\n            setError(err.response?.data?.message || 'Erro ao rejeitar anúncio. Por favor, tente novamente.');\n             // Keep modal open on error?\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n    // --- --- --- --- --- --- ---\n\n    const formatCurrency = (value) => {\n        return new Intl.NumberFormat('pt-PT', {\n            style: 'currency',\n            currency: 'EUR'\n        }).format(value);\n    };\n\n    const renderImages = (images, style = { height: '300px', backgroundColor: '#f8f9fa' }, className = 'card-img-top') => {\n        const storageBaseUrl = getStorageBaseUrl();\n\n        if (!images || images.length === 0) {\n            return (\n                <div className={`text-center p-4 bg-light d-flex align-items-center justify-content-center ${className}`} style={style}>\n                    <i className=\"fas fa-image text-muted fa-3x\"></i>\n                </div>\n            );\n        }\n\n        if (images.length === 1) {\n            return (\n                <div style={style}>\n                    <img\n                        src={`${storageBaseUrl}/storage/${images[0].imagem.Caminho}`}\n                        alt=\"Imagem do produto\"\n                        className={className}\n                        style={{ height: '100%', width: '100%', objectFit: 'contain' }}\n                        onError={(e) => { e.target.onerror = null; e.target.src = 'https://via.placeholder.com/300x180?text=Erro' }}\n                    />\n                </div>\n            );\n        }\n\n        return (\n            <Carousel style={style} className={className} interval={null}>\n                {images.map((img, index) => (\n                    <Carousel.Item key={img.ID_Imagem || index}>\n                        <img\n                            src={`${storageBaseUrl}/storage/${img.imagem.Caminho}`}\n                            alt={`Imagem ${index + 1}`}\n                            style={{ height: '100%', width: '100%', objectFit: 'contain' }}\n                            onError={(e) => { e.target.onerror = null; e.target.src = 'https://via.placeholder.com/300x180?text=Erro' }}\n                        />\n                    </Carousel.Item>\n                ))}\n            </Carousel>\n        );\n    };\n\n    return (\n        <>\n            <Header />\n            <Container className=\"my-5\">\n                <Card className=\"shadow-sm mb-4\">\n                    <Card.Header className=\"bg-primary text-white\">\n                        <h2 className=\"mb-0\">Anúncios Pendentes</h2>\n                    </Card.Header>\n                    <Card.Body>\n                        {message && <Alert variant=\"success\" onClose={() => setMessage('')} dismissible>{message}</Alert>}\n                        {error && <Alert variant=\"danger\" onClose={() => setError('')} dismissible>{error}</Alert>}\n\n                        {loading ? (\n                            <div className=\"text-center py-5\">\n                                <Spinner animation=\"border\" variant=\"primary\" />\n                                <p className=\"mt-3\">A carregar anúncios pendentes...</p>\n                            </div>\n                        ) : produtos.length === 0 ? (\n                            <Alert variant=\"info\">Não há anúncios pendentes de aprovação.</Alert>\n                        ) : (\n                            <Row xs={1} md={2} lg={3} className=\"g-4\">\n                                {produtos.map(produto => (\n                                    <Col key={produto.ID_Anuncio}>\n                                        <Card className=\"h-100 shadow-sm\">\n                                            {/* Wrapper for image/carousel with fixed height */}\n                                            <div className=\"card-img-wrapper\" style={{ height: '250px', overflow: 'hidden', backgroundColor: '#f8f9fa' }}> \n                                                {/* Pass style height 100% to fill wrapper, remove card-img-top class */}\n                                                {renderImages(produto.item_imagems, { height: '100%' }, '')} \n                                            </div>\n                                            <Card.Body className=\"d-flex flex-column\">\n                                                <Card.Title className=\"h5 mb-2\">{produto.Titulo}</Card.Title>\n                                                <Card.Subtitle className=\"mb-2 text-primary fw-bold\">\n                                                    {formatCurrency(produto.Preco)}\n                                                </Card.Subtitle>\n                                                <div className=\"d-flex justify-content-between align-items-center mb-2 small\">\n                                                    <Badge bg=\"info\" pill>{produto.categorium?.Descricao_Categoria || 'Sem categoria'}</Badge>\n                                                    <Badge bg=\"secondary\" pill>{produto.tipo_item?.Descricao_TipoItem || 'Não especificado'}</Badge>\n                                                </div>\n                                                <div className=\"mt-auto border-top pt-2 small text-muted\">\n                                                     <span>Utilizador: {produto.utilizador?.Name || 'N/A'}</span>\n                                                     <span className=\"float-end\">\n                                                        Submetido: {produto.aprovacao?.Data_Submissao ? new Date(produto.aprovacao.Data_Submissao).toLocaleDateString() : 'N/A'}\n                                                     </span>\n                                                </div>\n                                            </Card.Body>\n                                            <Card.Footer className=\"bg-light text-center d-flex flex-column flex-md-row justify-content-center gap-2\">\n    <Button \n        variant=\"success\" \n        size=\"sm\" \n        onClick={async () => {\n            setSelectedAnuncio(produto);\n            setIsSubmitting(true);\n            setMessage('');\n            setError('');\n            try {\n                await adminService.aprovarAnuncio(produto.ID_Anuncio);\n                setMessage('Anúncio aprovado com sucesso!');\n                setProdutos(produtos => produtos.filter(p => p.ID_Anuncio !== produto.ID_Anuncio));\n            } catch (err) {\n                setError(err.response?.data?.message || 'Erro ao aprovar anúncio. Por favor, tente novamente.');\n            } finally {\n                setIsSubmitting(false);\n            }\n        }}\n        disabled={isSubmitting}\n    >\n        <i className=\"fas fa-check me-1\"></i> Aceitar\n    </Button>\n    <Button \n        variant=\"danger\" \n        size=\"sm\" \n        onClick={() => {\n            setSelectedAnuncio(produto);\n            setShowDetailsModal(true);\n        }}\n        disabled={isSubmitting}\n    >\n        <i className=\"fas fa-times me-1\"></i> Recusar\n    </Button>\n    <Button \n        variant=\"outline-primary\" \n        size=\"sm\" \n        onClick={() => openDetailsModal(produto)}\n    >\n        <i className=\"fas fa-eye me-1\"></i> Ver Detalhes\n    </Button>\n</Card.Footer>\n                                        </Card>\n                                    </Col>\n                                ))}\n                            </Row>\n                        )}\n                    </Card.Body>\n                </Card>\n            </Container>\n\n            <Modal show={showDetailsModal} onHide={closeDetailsModal} size=\"lg\">\n                <Modal.Header closeButton>\n                    <Modal.Title>Detalhes do Anúncio Pendente</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    {selectedAnuncio && (\n                        <Row>\n                            <Col md={6}>\n                                {renderImages(selectedAnuncio.item_imagems, { height: '400px' }, '')}\n                            </Col>\n                            <Col md={6}>\n                                <h5>{selectedAnuncio.Titulo}</h5>\n                                <ListGroup variant=\"flush\">\n                                    <ListGroup.Item><strong>Preço:</strong> {formatCurrency(selectedAnuncio.Preco)}</ListGroup.Item>\n                                    <ListGroup.Item><strong>Categoria:</strong> {selectedAnuncio.categorium?.Descricao_Categoria || 'N/A'}</ListGroup.Item>\n                                    <ListGroup.Item><strong>Tipo:</strong> {selectedAnuncio.tipo_item?.Descricao_TipoItem || 'N/A'}</ListGroup.Item>\n                                    <ListGroup.Item><strong>Descrição:</strong><br/><p style={{ maxHeight: '150px', overflowY: 'auto', whiteSpace: 'pre-wrap' }}>{selectedAnuncio.Descricao || 'N/A'}</p></ListGroup.Item>\n                                    <ListGroup.Item>\n                                        <strong>Utilizador:</strong> {selectedAnuncio.utilizador?.Name || 'N/A'} ({selectedAnuncio.utilizador?.Email || 'N/A'})\n                                    </ListGroup.Item>\n                                    <ListGroup.Item>\n                                        <strong>Submetido em:</strong> {selectedAnuncio.aprovacao?.Data_Submissao ? new Date(selectedAnuncio.aprovacao.Data_Submissao).toLocaleString() : 'N/A'}\n                                    </ListGroup.Item>\n                                </ListGroup>\n                                \n                                <Form.Group className=\"mt-3\">\n                                    <Form.Label>Motivo da Rejeição (se aplicável)</Form.Label>\n                                    <Form.Control \n                                        as=\"textarea\" \n                                        rows={2} \n                                        value={rejectionReason}\n                                        onChange={(e) => setRejectionReason(e.target.value)}\n                                        placeholder=\"Se rejeitar, indique aqui o motivo...\"\n                                    />\n                                </Form.Group>\n                                \n                                {error.includes('motivo') && <Alert variant=\"warning\" className=\"mt-2 py-1 px-2 small\">{error}</Alert>}\n                            </Col>\n                        </Row>\n                    )}\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={closeDetailsModal} disabled={isSubmitting}>\n                        Fechar\n                    </Button>\n                    <Button \n                        variant=\"danger\" \n                        onClick={handleReject} \n                        disabled={isSubmitting || !rejectionReason.trim()}\n                    >\n                        {isSubmitting ? <Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\"/> : 'Rejeitar'}\n                    </Button>\n                    <Button \n                        variant=\"success\" \n                        onClick={handleApprove} \n                        disabled={isSubmitting}\n                    >\n                         {isSubmitting ? <Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\"/> : 'Aprovar'}\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n\n            <div style={{height: '18mm'}}></div>\n        </>\n    );\n};\n\nexport default ProdutosPendentes;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}