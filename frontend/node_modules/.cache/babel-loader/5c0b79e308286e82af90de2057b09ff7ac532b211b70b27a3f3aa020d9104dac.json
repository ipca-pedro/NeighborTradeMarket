{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\NeighborTradeMarket\\\\frontend\\\\src\\\\components\\\\layout\\\\Header.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { Navbar, Nav, Container, Form, Button, Dropdown } from 'react-bootstrap';\nimport ChatBot from '../chat/ChatBot';\nimport { useAuth } from '../../contexts/AuthContext';\nimport LoginPopup from '../auth/LoginPopup';\nimport CategoryMenu from './CategoryMenu';\nimport HelpModal from '../help/HelpModal';\nimport NotificationDropdown from '../notifications/NotificationDropdown';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Header = () => {\n  _s();\n  const [showLoginPopup, setShowLoginPopup] = useState(false);\n  const [showCategoryMenu, setShowCategoryMenu] = useState(false);\n  const [showHelpModal, setShowHelpModal] = useState(false);\n  const [showMessagesDropdown, setShowMessagesDropdown] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [showNotificationsDropdown, setShowNotificationsDropdown] = useState(false);\n  const [notifications, setNotifications] = useState([]);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const {\n    currentUser,\n    logout\n  } = useAuth();\n  const navigate = useNavigate();\n  const searchRef = useRef(null);\n  const [searchTerm, setSearchTerm] = useState('');\n\n  // Buscar notificações do servidor\n  useEffect(() => {\n    const fetchNotifications = async () => {\n      if (currentUser && currentUser.ID_User) {\n        try {\n          // Aqui você deve fazer uma chamada API para buscar notificações\n          // Por exemplo: const response = await api.get('/notificacoes');\n          // Simulando notificações para teste\n          const mockNotifications = [];\n\n          // Se o usuário for admin, adicionar notificações de registro de usuário\n          if (currentUser.TipoUserID_TipoUser === 1) {\n            // Buscar notificações de pendentes\n            try {\n              const response = await fetch('http://127.0.0.1:8000/api/admin/pending-users-count', {\n                headers: {\n                  'Authorization': `Bearer ${localStorage.getItem('token')}`,\n                  'Content-Type': 'application/json'\n                }\n              });\n              if (response.ok) {\n                const data = await response.json();\n                if (data.count > 0) {\n                  mockNotifications.push({\n                    id: 'user-reg-1',\n                    type: 'USER_REGISTRATION',\n                    userName: 'Novos utilizadores',\n                    message: `${data.count} novos pedidos de registo pendentes`,\n                    read: false,\n                    createdAt: new Date().toISOString()\n                  });\n                }\n              }\n            } catch (error) {\n              console.error('Erro ao buscar contagem de usuários pendentes:', error);\n            }\n          }\n          setNotifications(mockNotifications);\n        } catch (error) {\n          console.error('Erro ao buscar notificações:', error);\n        }\n      }\n    };\n    fetchNotifications();\n\n    // Configurar um intervalo para buscar notificações periodicamente\n    const interval = setInterval(fetchNotifications, 60000); // A cada minuto\n\n    return () => clearInterval(interval);\n  }, [currentUser]);\n\n  // Atualizar o contador de notificações não lidas\n  useEffect(() => {\n    setUnreadCount(notifications.filter(n => !n.read).length);\n  }, [notifications]);\n  const handleReadNotifications = notificationIds => {\n    setNotifications(prevNotifications => prevNotifications.map(notification => notificationIds.includes(notification.id) ? {\n      ...notification,\n      read: true\n    } : notification));\n  };\n  // Moved to above the useEffect hook\n\n  const handleSearch = e => {\n    e.preventDefault();\n    if (searchTerm.trim()) {\n      navigate(`/anuncios?q=${encodeURIComponent(searchTerm)}`);\n    }\n  };\n  const handleLogout = async () => {\n    try {\n      await logout();\n    } catch (error) {\n      console.error('Falha ao terminar sessão', error);\n    } finally {\n      window.location.href = '/login';\n    }\n  };\n  const toggleLoginPopup = () => {\n    setShowLoginPopup(!showLoginPopup);\n  };\n  const toggleCategoryMenu = () => {\n    setShowCategoryMenu(!showCategoryMenu);\n  };\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (showLoginPopup && !event.target.closest('.user-dropdown')) {\n        setShowLoginPopup(false);\n      }\n      if (showCategoryMenu && !event.target.closest('.category-dropdown') && !event.target.closest('.category-menu')) {\n        setShowCategoryMenu(false);\n      }\n      if (showMessagesDropdown && !event.target.closest('.messages-dropdown')) {\n        setShowMessagesDropdown(false);\n      }\n      if (showNotificationsDropdown && !event.target.closest('.notifications-dropdown')) {\n        setShowNotificationsDropdown(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [showLoginPopup, showCategoryMenu, showMessagesDropdown, showNotificationsDropdown]);\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      bg: \"primary\",\n      variant: \"dark\",\n      expand: \"lg\",\n      className: \"py-3\",\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(Navbar.Brand, {\n          as: Link,\n          to: \"/\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/images/logo.png\",\n            alt: \"NeighborTrade\",\n            height: \"40\",\n            className: \"d-inline-block align-top\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-bar mx-auto flex-grow-1 px-4\",\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: handleSearch,\n            className: \"d-flex\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n              ref: searchRef,\n              type: \"search\",\n              placeholder: \"Pesquisar por qualquer produto\",\n              className: \"me-2 text-center\",\n              \"aria-label\": \"Pesquisar\",\n              value: searchTerm,\n              onChange: e => setSearchTerm(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"light\",\n              type: \"submit\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex align-items-center\",\n          children: [currentUser && (currentUser.TipoUserID_TipoUser === 1 ? /*#__PURE__*/_jsxDEV(Button, {\n            as: Link,\n            to: \"/admin\",\n            variant: \"outline-light\",\n            className: \"me-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-tachometer-alt me-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 37\n            }, this), \" Painel de Administrador\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(Button, {\n            as: Link,\n            to: \"/anuncios/novo\",\n            variant: \"outline-light\",\n            className: \"me-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-plus me-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 37\n            }, this), \" Criar An\\xFAncio\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 33\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"position-relative me-3 notifications-dropdown\",\n            children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n              href: \"#\",\n              className: \"text-white position-relative\",\n              onClick: () => setShowNotificationsDropdown(!showNotificationsDropdown),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-bell\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 33\n              }, this), unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger\",\n                style: {\n                  fontSize: '0.65rem',\n                  marginTop: '-3px'\n                },\n                children: unreadCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 29\n            }, this), showNotificationsDropdown && /*#__PURE__*/_jsxDEV(NotificationDropdown, {\n              notifications: notifications,\n              onRead: handleReadNotifications\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"position-relative me-3 messages-dropdown\",\n            children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n              href: \"#\",\n              className: \"text-white\",\n              onClick: () => setShowMessagesDropdown(!showMessagesDropdown),\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"far fa-comment-alt text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 29\n            }, this), showMessagesDropdown && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"position-absolute bg-white shadow rounded\",\n              style: {\n                top: '100%',\n                right: 0,\n                width: '300px',\n                zIndex: 1000\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-3 border-bottom\",\n                children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                  className: \"mb-0\",\n                  children: \"Mensagens\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"messages-list\",\n                style: {\n                  maxHeight: '400px',\n                  overflowY: 'auto'\n                },\n                children: messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-4 text-center text-muted\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"far fa-comment-alt fa-2x mb-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mb-0\",\n                    children: \"Voc\\xEA ainda n\\xE3o tem mensagens\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: \"Quando iniciar uma conversa, ela aparecer\\xE1 aqui\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 45\n                }, this) : messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-3 border-bottom hover-bg-light\"\n                }, message.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 49\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-dropdown position-relative\",\n            children: currentUser ? /*#__PURE__*/_jsxDEV(Dropdown, {\n              children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n                variant: \"link\",\n                className: \"text-white p-0\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"far fa-user\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n                align: \"end\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"dropdown-header text-primary fw-bold text-center\",\n                  style: {\n                    fontSize: '1rem'\n                  },\n                  children: currentUser && currentUser.Name ? currentUser.Name : 'Utilizador'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Dropdown.Divider, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                  as: Link,\n                  to: \"/perfil\",\n                  children: \"Meu Perfil\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 41\n                }, this), (!currentUser || currentUser.TipoUserID_TipoUser !== 1) && /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                  as: Link,\n                  to: \"/meus-anuncios\",\n                  children: \"Meus An\\xFAncios\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Dropdown.Divider, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                  onClick: handleLogout,\n                  children: \"Terminar Sess\\xE3o\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n                href: \"#\",\n                className: \"text-white\",\n                onClick: toggleLoginPopup,\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"far fa-user\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 37\n              }, this), showLoginPopup && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"position-absolute end-0 mt-2\",\n                style: {\n                  zIndex: 1000,\n                  width: '300px'\n                },\n                children: /*#__PURE__*/_jsxDEV(LoginPopup, {\n                  onClose: () => {\n                    setShowLoginPopup(false);\n                    window.location.href = '/';\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Navbar, {\n      bg: \"light\",\n      variant: \"light\",\n      className: \"py-2 border-bottom\",\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"category-dropdown position-relative\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"light\",\n            className: \"d-flex align-items-center\",\n            onClick: toggleCategoryMenu,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Todas as Categorias\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: `fas fa-chevron-${showCategoryMenu ? 'up' : 'down'} ms-2`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 25\n          }, this), showCategoryMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"position-absolute start-0 mt-2 category-menu\",\n            style: {\n              zIndex: 1000,\n              width: '250px'\n            },\n            children: /*#__PURE__*/_jsxDEV(CategoryMenu, {\n              onSelectCategory: () => setShowCategoryMenu(false)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Nav, {\n          className: \"ms-4\",\n          children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n            onClick: () => document.querySelector('.chat-toggle-button').click(),\n            className: \"d-flex align-items-center\",\n            style: {\n              cursor: 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-headset me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Apoio ao Cliente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Nav.Link, {\n            onClick: () => setShowHelpModal(true),\n            className: \"d-flex align-items-center ms-3\",\n            style: {\n              cursor: 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-question-circle me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Precisa de Ajuda\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(HelpModal, {\n            show: showHelpModal,\n            onHide: () => setShowHelpModal(false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ChatBot, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 9\n  }, this);\n};\n_s(Header, \"rP1fFuzyzsM/998yGsdsidFAxf0=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","useNavigate","Navbar","Nav","Container","Form","Button","Dropdown","ChatBot","useAuth","LoginPopup","CategoryMenu","HelpModal","NotificationDropdown","jsxDEV","_jsxDEV","Fragment","_Fragment","Header","_s","showLoginPopup","setShowLoginPopup","showCategoryMenu","setShowCategoryMenu","showHelpModal","setShowHelpModal","showMessagesDropdown","setShowMessagesDropdown","messages","setMessages","showNotificationsDropdown","setShowNotificationsDropdown","notifications","setNotifications","unreadCount","setUnreadCount","currentUser","logout","navigate","searchRef","searchTerm","setSearchTerm","fetchNotifications","ID_User","mockNotifications","TipoUserID_TipoUser","response","fetch","headers","localStorage","getItem","ok","data","json","count","push","id","type","userName","message","read","createdAt","Date","toISOString","error","console","interval","setInterval","clearInterval","filter","n","length","handleReadNotifications","notificationIds","prevNotifications","map","notification","includes","handleSearch","e","preventDefault","trim","encodeURIComponent","handleLogout","window","location","href","toggleLoginPopup","toggleCategoryMenu","handleClickOutside","event","target","closest","document","addEventListener","removeEventListener","children","bg","variant","expand","className","Brand","as","to","src","alt","height","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","Control","ref","placeholder","value","onChange","onClick","style","fontSize","marginTop","onRead","top","right","width","zIndex","maxHeight","overflowY","Toggle","Menu","align","Name","Divider","Item","onClose","onSelectCategory","querySelector","click","cursor","show","onHide","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/NeighborTradeMarket/frontend/src/components/layout/Header.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { Navbar, Nav, Container, Form, Button, Dropdown } from 'react-bootstrap';\nimport ChatBot from '../chat/ChatBot';\nimport { useAuth } from '../../contexts/AuthContext';\nimport LoginPopup from '../auth/LoginPopup';\nimport CategoryMenu from './CategoryMenu';\nimport HelpModal from '../help/HelpModal';\nimport NotificationDropdown from '../notifications/NotificationDropdown';\n\nconst Header = () => {\n    const [showLoginPopup, setShowLoginPopup] = useState(false);\n    const [showCategoryMenu, setShowCategoryMenu] = useState(false);\n    const [showHelpModal, setShowHelpModal] = useState(false);\n    const [showMessagesDropdown, setShowMessagesDropdown] = useState(false);\n    const [messages, setMessages] = useState([]);\n    const [showNotificationsDropdown, setShowNotificationsDropdown] = useState(false);\n    const [notifications, setNotifications] = useState([]);\n    const [unreadCount, setUnreadCount] = useState(0);\n\n    const { currentUser, logout } = useAuth();\n    const navigate = useNavigate();\n    const searchRef = useRef(null);\n    const [searchTerm, setSearchTerm] = useState('');\n    \n    // Buscar notificações do servidor\n    useEffect(() => {\n        const fetchNotifications = async () => {\n            if (currentUser && currentUser.ID_User) {\n                try {\n                    // Aqui você deve fazer uma chamada API para buscar notificações\n                    // Por exemplo: const response = await api.get('/notificacoes');\n                    // Simulando notificações para teste\n                    const mockNotifications = [];\n                    \n                    // Se o usuário for admin, adicionar notificações de registro de usuário\n                    if (currentUser.TipoUserID_TipoUser === 1) {\n                        // Buscar notificações de pendentes\n                        try {\n                            const response = await fetch('http://127.0.0.1:8000/api/admin/pending-users-count', {\n                                headers: {\n                                    'Authorization': `Bearer ${localStorage.getItem('token')}`,\n                                    'Content-Type': 'application/json'\n                                }\n                            });\n                            \n                            if (response.ok) {\n                                const data = await response.json();\n                                if (data.count > 0) {\n                                    mockNotifications.push({\n                                        id: 'user-reg-1',\n                                        type: 'USER_REGISTRATION',\n                                        userName: 'Novos utilizadores',\n                                        message: `${data.count} novos pedidos de registo pendentes`,\n                                        read: false,\n                                        createdAt: new Date().toISOString()\n                                    });\n                                }\n                            }\n                        } catch (error) {\n                            console.error('Erro ao buscar contagem de usuários pendentes:', error);\n                        }\n                    }\n                    \n                    setNotifications(mockNotifications);\n                } catch (error) {\n                    console.error('Erro ao buscar notificações:', error);\n                }\n            }\n        };\n        \n        fetchNotifications();\n        \n        // Configurar um intervalo para buscar notificações periodicamente\n        const interval = setInterval(fetchNotifications, 60000); // A cada minuto\n        \n        return () => clearInterval(interval);\n    }, [currentUser]);\n\n    // Atualizar o contador de notificações não lidas\n    useEffect(() => {\n        setUnreadCount(notifications.filter(n => !n.read).length);\n    }, [notifications]);\n\n    const handleReadNotifications = (notificationIds) => {\n        setNotifications(prevNotifications =>\n            prevNotifications.map(notification =>\n                notificationIds.includes(notification.id)\n                    ? { ...notification, read: true }\n                    : notification\n            )\n        );\n    };\n    // Moved to above the useEffect hook\n\n    const handleSearch = (e) => {\n        e.preventDefault();\n        if (searchTerm.trim()) {\n            navigate(`/anuncios?q=${encodeURIComponent(searchTerm)}`);\n        }\n    };\n\n    const handleLogout = async () => {\n        try {\n            await logout();\n        } catch (error) {\n            console.error('Falha ao terminar sessão', error);\n        } finally {\n            window.location.href = '/login';\n        }\n    };\n\n    const toggleLoginPopup = () => {\n        setShowLoginPopup(!showLoginPopup);\n    };\n\n    const toggleCategoryMenu = () => {\n        setShowCategoryMenu(!showCategoryMenu);\n    };\n\n    useEffect(() => {\n        const handleClickOutside = (event) => {\n            if (showLoginPopup && !event.target.closest('.user-dropdown')) {\n                setShowLoginPopup(false);\n            }\n            if (showCategoryMenu && !event.target.closest('.category-dropdown') && \n                !event.target.closest('.category-menu')) {\n                setShowCategoryMenu(false);\n            }\n            if (showMessagesDropdown && !event.target.closest('.messages-dropdown')) {\n                setShowMessagesDropdown(false);\n            }\n            if (showNotificationsDropdown && !event.target.closest('.notifications-dropdown')) {\n                setShowNotificationsDropdown(false);\n            }\n        };\n\n        document.addEventListener('mousedown', handleClickOutside);\n        return () => {\n            document.removeEventListener('mousedown', handleClickOutside);\n        };\n    }, [showLoginPopup, showCategoryMenu, showMessagesDropdown, showNotificationsDropdown]);\n\n    return (\n        <header>\n            <Navbar bg=\"primary\" variant=\"dark\" expand=\"lg\" className=\"py-3\">\n                <Container>\n                    <Navbar.Brand as={Link} to=\"/\">\n                        <img \n                            src=\"/images/logo.png\" \n                            alt=\"NeighborTrade\" \n                            height=\"40\" \n                            className=\"d-inline-block align-top\"\n                        />\n                    </Navbar.Brand>\n\n                    <div className=\"search-bar mx-auto flex-grow-1 px-4\">\n                        <Form onSubmit={handleSearch} className=\"d-flex\">\n                            <Form.Control\n                                ref={searchRef}\n                                type=\"search\"\n                                placeholder=\"Pesquisar por qualquer produto\"\n                                className=\"me-2 text-center\"\n                                aria-label=\"Pesquisar\"\n                                value={searchTerm}\n                                onChange={(e) => setSearchTerm(e.target.value)}\n                            />\n                            <Button variant=\"light\" type=\"submit\">\n                                <i className=\"fas fa-search\"></i>\n                            </Button>\n                        </Form>\n                    </div>\n\n                    <div className=\"d-flex align-items-center\">\n                        {currentUser && (\n                            currentUser.TipoUserID_TipoUser === 1 ? (\n                                <Button \n                                    as={Link} \n                                    to=\"/admin\" \n                                    variant=\"outline-light\" \n                                    className=\"me-3\"\n                                >\n                                    <i className=\"fas fa-tachometer-alt me-1\"></i> Painel de Administrador\n                                </Button>\n                            ) : (\n                                <Button \n                                    as={Link} \n                                    to=\"/anuncios/novo\" \n                                    variant=\"outline-light\" \n                                    className=\"me-3\"\n                                >\n                                    <i className=\"fas fa-plus me-1\"></i> Criar Anúncio\n                                </Button>\n                            )\n                        )}\n                        \n                        <div className=\"position-relative me-3 notifications-dropdown\">\n                            <Nav.Link \n                                href=\"#\" \n                                className=\"text-white position-relative\" \n                                onClick={() => setShowNotificationsDropdown(!showNotificationsDropdown)}\n                            >\n                                <i className=\"fas fa-bell\"></i>\n                                {unreadCount > 0 && (\n                                    <span \n                                        className=\"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger\"\n                                        style={{ fontSize: '0.65rem', marginTop: '-3px' }}\n                                    >\n                                        {unreadCount}\n                                    </span>\n                                )}\n                            </Nav.Link>\n                            {showNotificationsDropdown && (\n                                <NotificationDropdown \n                                    notifications={notifications}\n                                    onRead={handleReadNotifications}\n                                />\n                            )}\n                        </div>\n                        <div className=\"position-relative me-3 messages-dropdown\">\n                            <Nav.Link \n                                href=\"#\" \n                                className=\"text-white\" \n                                onClick={() => setShowMessagesDropdown(!showMessagesDropdown)}\n                            >\n                                <i className=\"far fa-comment-alt text-white\"></i>\n                            </Nav.Link>\n                            {showMessagesDropdown && (\n                                <div \n                                    className=\"position-absolute bg-white shadow rounded\" \n                                    style={{ \n                                        top: '100%', \n                                        right: 0, \n                                        width: '300px', \n                                        zIndex: 1000 \n                                    }}\n                                >\n                                    <div className=\"p-3 border-bottom\">\n                                        <h6 className=\"mb-0\">Mensagens</h6>\n                                    </div>\n                                    <div className=\"messages-list\" style={{ maxHeight: '400px', overflowY: 'auto' }}>\n                                        {messages.length === 0 ? (\n                                            <div className=\"p-4 text-center text-muted\">\n                                                <i className=\"far fa-comment-alt fa-2x mb-2\"></i>\n                                                <p className=\"mb-0\">Você ainda não tem mensagens</p>\n                                                <small>Quando iniciar uma conversa, ela aparecerá aqui</small>\n                                            </div>\n                                        ) : (\n                                            messages.map(message => (\n                                                <div key={message.id} className=\"p-3 border-bottom hover-bg-light\">\n                                                    {/* Aqui vai o conteúdo de cada mensagem quando implementado */}\n                                                </div>\n                                            ))\n                                        )}\n                                    </div>\n                                </div>\n                            )}\n                        </div>\n                        <div className=\"user-dropdown position-relative\">\n                            {currentUser ? (\n                                <Dropdown>\n                                    <Dropdown.Toggle variant=\"link\" className=\"text-white p-0\">\n                                        <i className=\"far fa-user\"></i>\n                                    </Dropdown.Toggle>\n                                    <Dropdown.Menu align=\"end\">\n                                        <div className=\"dropdown-header text-primary fw-bold text-center\" style={{fontSize: '1rem'}}>\n                                            {currentUser && currentUser.Name ? currentUser.Name : 'Utilizador'}\n                                        </div>\n                                        <Dropdown.Divider />\n                                        <Dropdown.Item as={Link} to=\"/perfil\">Meu Perfil</Dropdown.Item>\n                                        {(!currentUser || currentUser.TipoUserID_TipoUser !== 1) && (\n                                            <Dropdown.Item as={Link} to=\"/meus-anuncios\">Meus Anúncios</Dropdown.Item>\n                                        )}\n                                        <Dropdown.Divider />\n                                        <Dropdown.Item onClick={handleLogout}>Terminar Sessão</Dropdown.Item>\n                                    </Dropdown.Menu>\n                                </Dropdown>\n                            ) : (\n                                <>\n                                    <Nav.Link \n                                        href=\"#\" \n                                        className=\"text-white\" \n                                        onClick={toggleLoginPopup}\n                                    >\n                                        <i className=\"far fa-user\"></i>\n                                    </Nav.Link>\n                                    {showLoginPopup && (\n                                        <div className=\"position-absolute end-0 mt-2\" style={{ zIndex: 1000, width: '300px' }}>\n                                            <LoginPopup onClose={() => { setShowLoginPopup(false); window.location.href = '/'; }} />\n                                        </div>\n                                    )}\n                                </>\n                            )}\n                        </div>\n                    </div>\n                </Container>\n            </Navbar>\n\n            <Navbar bg=\"light\" variant=\"light\" className=\"py-2 border-bottom\">\n                <Container>\n                    <div className=\"category-dropdown position-relative\">\n                        <Button \n                            variant=\"light\" \n                            className=\"d-flex align-items-center\"\n                            onClick={toggleCategoryMenu}\n                        >\n                            <span>Todas as Categorias</span>\n                            <i className={`fas fa-chevron-${showCategoryMenu ? 'up' : 'down'} ms-2`}></i>\n                        </Button>\n                        {showCategoryMenu && (\n                            <div className=\"position-absolute start-0 mt-2 category-menu\" style={{ zIndex: 1000, width: '250px' }}>\n                                <CategoryMenu onSelectCategory={() => setShowCategoryMenu(false)} />\n                            </div>\n                        )}\n                    </div>\n\n                    <Nav className=\"ms-4\">\n                        <Nav.Link \n                            onClick={() => document.querySelector('.chat-toggle-button').click()} \n                            className=\"d-flex align-items-center\"\n                            style={{ cursor: 'pointer' }}\n                        >\n                            <i className=\"fas fa-headset me-2\"></i>\n                            <span>Apoio ao Cliente</span>\n                        </Nav.Link>\n                        <Nav.Link \n                            onClick={() => setShowHelpModal(true)} \n                            className=\"d-flex align-items-center ms-3\"\n                            style={{ cursor: 'pointer' }}\n                        >\n                            <i className=\"fas fa-question-circle me-2\"></i>\n                            <span>Precisa de Ajuda</span>\n                        </Nav.Link>\n\n                        <HelpModal \n                            show={showHelpModal} \n                            onHide={() => setShowHelpModal(false)} \n                        />\n\n                        <ChatBot />\n                    </Nav>\n                </Container>\n            </Navbar>\n        </header>\n    );\n};\n\nexport default Header;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}