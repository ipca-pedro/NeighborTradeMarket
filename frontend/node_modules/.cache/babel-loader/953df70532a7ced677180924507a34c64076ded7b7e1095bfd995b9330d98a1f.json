{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\NeighborTradeMarket\\\\frontend\\\\src\\\\components\\\\produtos\\\\CriarProduto.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Form, Button, Alert, Row, Col, Card } from 'react-bootstrap';\nimport { useNavigate, Navigate } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { anuncioService } from '../../services/api';\nimport Header from '../layout/Header';\nimport Footer from '../layout/Footer';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CriarProduto = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    currentUser,\n    isAuthenticated,\n    loading: authLoading\n  } = useAuth();\n  const [categorias, setCategorias] = useState([]);\n  const [tiposItem, setTiposItem] = useState([]);\n  const [formData, setFormData] = useState({\n    Titulo: '',\n    Descricao: '',\n    Preco: '',\n    CategoriaID_Categoria: '',\n    Tipo_ItemID_Tipo: '1' // 1 para produto, 2 para serviço\n  });\n  const [imagens, setImagens] = useState([]);\n  const [imagemPreview, setImagemPreview] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  useEffect(() => {\n    // Carregar categorias e tipos de item ao montar o componente\n    const fetchData = async () => {\n      try {\n        // Carregar categorias\n        console.log('Tentando carregar categorias...');\n        const categorias = await anuncioService.getCategories();\n        setCategorias(categorias);\n        console.log('Categorias carregadas:', categorias);\n\n        // Carregar tipos de item\n        console.log('Tentando carregar tipos de item...');\n        const tipos = await anuncioService.getItemTypes();\n        setTiposItem(tipos);\n        console.log('Tipos de item carregados:', tipos);\n      } catch (err) {\n        var _err$response, _err$response2, _err$response2$data;\n        console.error('Erro ao carregar dados:', err);\n        console.error('Detalhes do erro:', ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err.message);\n        setError(`Erro ao carregar dados: ${((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || err.message}`);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // Redirecionar para a página de login se o usuário não estiver autenticado\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\",\n      replace: true,\n      state: {\n        from: '/criar-anuncio',\n        message: 'É necessário fazer login para criar um anúncio'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 16\n    }, this);\n  }\n\n  // Se o usuário está autenticado mas não tem currentUser, tentar obter novamente\n  if (isAuthenticated && !currentUser) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center align-items-center min-vh-100\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-border text-primary\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: \"A carregar...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 16\n    }, this);\n  }\n\n  // Se o usuário não tem ID, mostrar erro\n  if (currentUser && !currentUser.ID_User) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-danger\",\n        children: \"Erro de Autentica\\xE7\\xE3o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-muted\",\n        children: \"N\\xE3o foi poss\\xEDvel obter o ID do usu\\xE1rio. Por favor, fa\\xE7a logout e login novamente.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: () => navigate('/logout'),\n        children: \"Fazer Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 16\n    }, this);\n  }\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n\n    // Tratamento especial para o campo Preco\n    if (name === 'Preco') {\n      // Permitir entrada vazia ou parcial durante a digitação\n      if (value === '' || value === '.' || value === ',') {\n        setFormData(prev => ({\n          ...prev,\n          [name]: value\n        }));\n        return;\n      }\n\n      // Substituir vírgula por ponto (formato europeu para decimal)\n      let processedValue = value.replace(',', '.');\n\n      // Verificar se é um número válido\n      if (isNaN(parseFloat(processedValue))) {\n        return; // Não atualiza se não for um número válido\n      }\n\n      // Garantir que o valor não exceda 9999.99\n      const numValue = parseFloat(processedValue);\n      if (numValue > 9999.99) {\n        return; // Não atualiza o estado se o valor for maior que o permitido\n      }\n\n      // Manter o valor como string para preservar zeros no final\n      // Apenas formatar se o usuário terminou de digitar (contém um ponto e já tem dígitos após o ponto)\n      if (processedValue.includes('.') && processedValue.split('.')[1].length > 0) {\n        // Limitar a 2 casas decimais mas manter como string\n        const parts = processedValue.split('.');\n        if (parts[1].length > 2) {\n          processedValue = `${parts[0]}.${parts[1].substring(0, 2)}`;\n        }\n      }\n      setFormData(prev => ({\n        ...prev,\n        [name]: processedValue\n      }));\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n  };\n  const handleImagemChange = e => {\n    const files = Array.from(e.target.files);\n    setImagens(files);\n\n    // Criar previews das imagens\n    const previews = files.map(file => URL.createObjectURL(file));\n    setImagemPreview(previews);\n  };\n  const handleSubmit = async e => {\n    var _formData$Titulo, _formData$Descricao;\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    setSuccess('');\n    if (!currentUser) {\n      setError('É necessário estar autenticado para criar um anúncio');\n      setLoading(false);\n      return;\n    }\n\n    // Validar e formatar dados\n    const preco = parseFloat(formData.Preco);\n    if (isNaN(preco) || preco <= 0 || preco > 9999.99) {\n      setError('Por favor, insira um preço válido (entre 0.01 e 9999.99)');\n      setLoading(false);\n      return;\n    }\n\n    // Validar título\n    const titulo = (_formData$Titulo = formData.Titulo) === null || _formData$Titulo === void 0 ? void 0 : _formData$Titulo.trim();\n    if (!titulo || titulo.length > 100) {\n      setError('Por favor, insira um título válido (máximo 100 caracteres)');\n      setLoading(false);\n      return;\n    }\n\n    // Validar descrição\n    const descricao = (_formData$Descricao = formData.Descricao) === null || _formData$Descricao === void 0 ? void 0 : _formData$Descricao.trim();\n    if (!descricao) {\n      setError('Por favor, insira uma descrição para o anúncio');\n      setLoading(false);\n      return;\n    }\n\n    // Validar categoria e tipo\n    const categoriaId = parseInt(formData.CategoriaID_Categoria);\n    const tipoId = parseInt(formData.Tipo_ItemID_Tipo);\n    if (isNaN(categoriaId) || isNaN(tipoId)) {\n      setError('Por favor, selecione uma categoria e um tipo válidos');\n      setLoading(false);\n      return;\n    }\n    try {\n      const formDataObj = new FormData();\n\n      // Debug: Verificar o ID do Utilizador\n      console.log('currentUser:', currentUser);\n      console.log('currentUser.ID_User:', currentUser.ID_User);\n      console.log('typeof currentUser.ID_User:', typeof currentUser.ID_User);\n\n      // Adicionar dados do produto\n      formDataObj.append('Titulo', titulo);\n      formDataObj.append('Descricao', descricao);\n      formDataObj.append('Preco', preco.toFixed(2)); // Enviar como string com 2 casas decimais\n      formDataObj.append('CategoriaID_Categoria', categoriaId);\n      formDataObj.append('Tipo_ItemID_Tipo', tipoId);\n\n      // Garantir que o ID do usuário seja um número\n      const userId = parseInt(currentUser.ID_User);\n      console.log('userId após parseInt:', userId);\n      if (isNaN(userId)) {\n        throw new Error('ID do usuário inválido');\n      }\n      formDataObj.append('UtilizadorID_User', userId);\n      formDataObj.append('Status_AnuncioID_Status_Anuncio', 1); // 1 para status pendente\n\n      // Adicionar imagens\n      imagens.forEach((imagem, index) => {\n        if (imagem) {\n          formDataObj.append(`imagens[${index}]`, imagem);\n        }\n      });\n      await anuncioService.criarAnuncio(formDataObj);\n      setSuccess('Anúncio criado com sucesso! Aguardando aprovação.');\n\n      // Limpar formulário\n      setFormData({\n        Titulo: '',\n        Descricao: '',\n        Preco: '',\n        CategoriaID_Categoria: '',\n        Tipo_ItemID_Tipo: '1'\n      });\n      setImagens([]);\n      setImagemPreview([]);\n\n      // Redirecionar após 2 segundos\n      setTimeout(() => {\n        navigate('/anuncios');\n      }, 2000);\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      console.error('Erro ao criar anúncio:', err);\n\n      // Mostrar erros específicos do backend\n      if ((_err$response3 = err.response) !== null && _err$response3 !== void 0 && (_err$response3$data = _err$response3.data) !== null && _err$response3$data !== void 0 && _err$response3$data.errors) {\n        let errorMessage = 'Erro ao criar anúncio:\\n';\n        Object.entries(err.response.data.errors).forEach(([field, messages]) => {\n          errorMessage += `-${field}: ${messages.join(', ')}\\n`;\n        });\n        setError(errorMessage);\n      } else {\n        var _err$response4, _err$response4$data;\n        setError(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.message) || 'Erro ao criar anúncio. Por favor, tente novamente.');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"py-5\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: 8,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n              className: \"bg-primary text-white\",\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"mb-0\",\n                children: \"Criar Novo An\\xFAncio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [error && /*#__PURE__*/_jsxDEV(Alert, {\n                variant: \"danger\",\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 43\n              }, this), success && /*#__PURE__*/_jsxDEV(Alert, {\n                variant: \"success\",\n                children: success\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(Form, {\n                onSubmit: handleSubmit,\n                children: [/*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    md: 12,\n                    children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                        children: \"T\\xEDtulo do An\\xFAncio\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 269,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"text\",\n                        name: \"Titulo\",\n                        value: formData.Titulo,\n                        onChange: handleChange,\n                        required: true,\n                        placeholder: \"Ex: iPhone 13 Pro Max 256GB\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 270,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 268,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    md: 6,\n                    children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                      className: \"mb-4\",\n                      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                        children: \"Categoria\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 285,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                        name: \"CategoriaID_Categoria\",\n                        value: formData.CategoriaID_Categoria,\n                        onChange: handleChange,\n                        required: true,\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"\",\n                          children: \"Selecione uma categoria\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 292,\n                          columnNumber: 53\n                        }, this), categorias.map(categoria => /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: categoria.ID_Categoria,\n                          children: categoria.Descricao_Categoria\n                        }, categoria.ID_Categoria, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 294,\n                          columnNumber: 57\n                        }, this))]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 286,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 284,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: 6,\n                    children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                      className: \"mb-4\",\n                      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                        children: \"Tipo\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 303,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                        name: \"Tipo_ItemID_Tipo\",\n                        value: formData.Tipo_ItemID_Tipo,\n                        onChange: handleChange,\n                        required: true,\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"\",\n                          children: \"Selecione um tipo\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 310,\n                          columnNumber: 53\n                        }, this), tiposItem.map(tipo => /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: tipo.ID_Tipo,\n                          children: tipo.Descricao_TipoItem\n                        }, tipo.ID_Tipo, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 312,\n                          columnNumber: 57\n                        }, this))]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 304,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 302,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    md: 6,\n                    children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                        children: \"Pre\\xE7o (\\u20AC)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 324,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"number\",\n                        step: \"0.01\",\n                        min: \"0\",\n                        max: \"9999.99\",\n                        name: \"Preco\",\n                        value: formData.Preco,\n                        onChange: handleChange,\n                        required: true,\n                        placeholder: \"0.00\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 325,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n                        className: \"text-muted\",\n                        children: \"Valor m\\xE1ximo permitido: 9999.99\\u20AC\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 336,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 323,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: 6\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Descri\\xE7\\xE3o\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    as: \"textarea\",\n                    rows: 5,\n                    name: \"Descricao\",\n                    value: formData.Descricao,\n                    onChange: handleChange,\n                    required: true,\n                    placeholder: \"Descreva o seu produto ou servi\\xE7o com detalhes...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Imagens\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 360,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"file\",\n                    multiple: true,\n                    accept: \"image/*\",\n                    onChange: handleImagemChange,\n                    className: \"mb-3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n                    className: \"text-muted mb-3 d-block\",\n                    children: \"Pode selecionar m\\xFAltiplas imagens (opcional). A primeira ser\\xE1 a imagem principal.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 368,\n                    columnNumber: 41\n                  }, this), imagemPreview.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"image-preview-container d-flex flex-wrap\",\n                    children: imagemPreview.map((preview, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"image-preview me-2 mb-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: preview,\n                        alt: `Preview ${index}`,\n                        style: {\n                          width: '100px',\n                          height: '100px',\n                          objectFit: 'cover'\n                        },\n                        className: \"rounded\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 376,\n                        columnNumber: 57\n                      }, this)\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 375,\n                      columnNumber: 53\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-grid gap-2\",\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"primary\",\n                    type: \"submit\",\n                    disabled: loading,\n                    size: \"lg\",\n                    style: {\n                      backgroundColor: '#F97316',\n                      borderColor: '#F97316'\n                    },\n                    children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"spinner-border spinner-border-sm me-2\",\n                        role: \"status\",\n                        \"aria-hidden\": \"true\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 398,\n                        columnNumber: 53\n                      }, this), \"A criar an\\xFAncio...\"]\n                    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: \"Publicar An\\xFAncio\"\n                    }, void 0, false)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(CriarProduto, \"8o1U5XNKClnb1uiPzmt7FY+ndU4=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = CriarProduto;\nexport default CriarProduto;\nvar _c;\n$RefreshReg$(_c, \"CriarProduto\");","map":{"version":3,"names":["React","useState","useEffect","Container","Form","Button","Alert","Row","Col","Card","useNavigate","Navigate","useAuth","anuncioService","Header","Footer","jsxDEV","_jsxDEV","Fragment","_Fragment","CriarProduto","_s","navigate","currentUser","isAuthenticated","loading","authLoading","categorias","setCategorias","tiposItem","setTiposItem","formData","setFormData","Titulo","Descricao","Preco","CategoriaID_Categoria","Tipo_ItemID_Tipo","imagens","setImagens","imagemPreview","setImagemPreview","setLoading","error","setError","success","setSuccess","fetchData","console","log","getCategories","tipos","getItemTypes","err","_err$response","_err$response2","_err$response2$data","response","data","message","to","replace","state","from","fileName","_jsxFileName","lineNumber","columnNumber","className","children","role","ID_User","variant","onClick","handleChange","e","name","value","target","prev","processedValue","isNaN","parseFloat","numValue","includes","split","length","parts","substring","handleImagemChange","files","Array","previews","map","file","URL","createObjectURL","handleSubmit","_formData$Titulo","_formData$Descricao","preventDefault","preco","titulo","trim","descricao","categoriaId","parseInt","tipoId","formDataObj","FormData","append","toFixed","userId","Error","forEach","imagem","index","criarAnuncio","setTimeout","_err$response3","_err$response3$data","errors","errorMessage","Object","entries","field","messages","join","_err$response4","_err$response4$data","md","Body","onSubmit","Group","Label","Control","type","onChange","required","placeholder","Select","categoria","ID_Categoria","Descricao_Categoria","tipo","ID_Tipo","Descricao_TipoItem","step","min","max","Text","as","rows","multiple","accept","preview","src","alt","style","width","height","objectFit","disabled","size","backgroundColor","borderColor","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/NeighborTradeMarket/frontend/src/components/produtos/CriarProduto.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Form, Button, Alert, Row, Col, Card } from 'react-bootstrap';\nimport { useNavigate, Navigate } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { anuncioService } from '../../services/api';\nimport Header from '../layout/Header';\nimport Footer from '../layout/Footer';\n\nconst CriarProduto = () => {\n    const navigate = useNavigate();\n    const { currentUser, isAuthenticated, loading: authLoading } = useAuth();\n    const [categorias, setCategorias] = useState([]);\n    const [tiposItem, setTiposItem] = useState([]);\n    const [formData, setFormData] = useState({\n        Titulo: '',\n        Descricao: '',\n        Preco: '',\n        CategoriaID_Categoria: '',\n        Tipo_ItemID_Tipo: '1' // 1 para produto, 2 para serviço\n    });\n    const [imagens, setImagens] = useState([]);\n    const [imagemPreview, setImagemPreview] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState('');\n\n    useEffect(() => {\n        // Carregar categorias e tipos de item ao montar o componente\n        const fetchData = async () => {\n            try {\n                // Carregar categorias\n                console.log('Tentando carregar categorias...');\n                const categorias = await anuncioService.getCategories();\n                setCategorias(categorias);\n                console.log('Categorias carregadas:', categorias);\n                \n                // Carregar tipos de item\n                console.log('Tentando carregar tipos de item...');\n                const tipos = await anuncioService.getItemTypes();\n                setTiposItem(tipos);\n                console.log('Tipos de item carregados:', tipos);\n            } catch (err) {\n                console.error('Erro ao carregar dados:', err);\n                console.error('Detalhes do erro:', err.response?.data || err.message);\n                setError(`Erro ao carregar dados: ${err.response?.data?.message || err.message}`);\n            }\n        };\n\n        fetchData();\n    }, []);\n    \n    // Redirecionar para a página de login se o usuário não estiver autenticado\n    if (!isAuthenticated) {\n        return <Navigate to=\"/login\" replace state={{ from: '/criar-anuncio', message: 'É necessário fazer login para criar um anúncio' }} />;\n    }\n\n    // Se o usuário está autenticado mas não tem currentUser, tentar obter novamente\n    if (isAuthenticated && !currentUser) {\n        return <div className=\"d-flex justify-content-center align-items-center min-vh-100\">\n            <div className=\"spinner-border text-primary\" role=\"status\">\n                <span className=\"visually-hidden\">A carregar...</span>\n            </div>\n        </div>;\n    }\n\n    // Se o usuário não tem ID, mostrar erro\n    if (currentUser && !currentUser.ID_User) {\n        return <div className=\"text-center py-5\">\n            <h3 className=\"text-danger\">Erro de Autenticação</h3>\n            <p className=\"text-muted\">Não foi possível obter o ID do usuário. Por favor, faça logout e login novamente.</p>\n            <Button variant=\"primary\" onClick={() => navigate('/logout')}>\n                Fazer Logout\n            </Button>\n        </div>;\n    }\n\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        \n        // Tratamento especial para o campo Preco\n        if (name === 'Preco') {\n            // Permitir entrada vazia ou parcial durante a digitação\n            if (value === '' || value === '.' || value === ',') {\n                setFormData(prev => ({\n                    ...prev,\n                    [name]: value\n                }));\n                return;\n            }\n            \n            // Substituir vírgula por ponto (formato europeu para decimal)\n            let processedValue = value.replace(',', '.');\n            \n            // Verificar se é um número válido\n            if (isNaN(parseFloat(processedValue))) {\n                return; // Não atualiza se não for um número válido\n            }\n            \n            // Garantir que o valor não exceda 9999.99\n            const numValue = parseFloat(processedValue);\n            if (numValue > 9999.99) {\n                return; // Não atualiza o estado se o valor for maior que o permitido\n            }\n            \n            // Manter o valor como string para preservar zeros no final\n            // Apenas formatar se o usuário terminou de digitar (contém um ponto e já tem dígitos após o ponto)\n            if (processedValue.includes('.') && processedValue.split('.')[1].length > 0) {\n                // Limitar a 2 casas decimais mas manter como string\n                const parts = processedValue.split('.');\n                if (parts[1].length > 2) {\n                    processedValue = `${parts[0]}.${parts[1].substring(0, 2)}`;\n                }\n            }\n            \n            setFormData(prev => ({\n                ...prev,\n                [name]: processedValue\n            }));\n        } else {\n            setFormData(prev => ({\n                ...prev,\n                [name]: value\n            }));\n        }\n    };\n\n    const handleImagemChange = (e) => {\n        const files = Array.from(e.target.files);\n        setImagens(files);\n        \n        // Criar previews das imagens\n        const previews = files.map(file => URL.createObjectURL(file));\n        setImagemPreview(previews);\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setLoading(true);\n        setError('');\n        setSuccess('');\n\n        if (!currentUser) {\n            setError('É necessário estar autenticado para criar um anúncio');\n            setLoading(false);\n            return;\n        }\n\n        // Validar e formatar dados\n        const preco = parseFloat(formData.Preco);\n        if (isNaN(preco) || preco <= 0 || preco > 9999.99) {\n            setError('Por favor, insira um preço válido (entre 0.01 e 9999.99)');\n            setLoading(false);\n            return;\n        }\n\n        // Validar título\n        const titulo = formData.Titulo?.trim();\n        if (!titulo || titulo.length > 100) {\n            setError('Por favor, insira um título válido (máximo 100 caracteres)');\n            setLoading(false);\n            return;\n        }\n\n        // Validar descrição\n        const descricao = formData.Descricao?.trim();\n        if (!descricao) {\n            setError('Por favor, insira uma descrição para o anúncio');\n            setLoading(false);\n            return;\n        }\n\n        // Validar categoria e tipo\n        const categoriaId = parseInt(formData.CategoriaID_Categoria);\n        const tipoId = parseInt(formData.Tipo_ItemID_Tipo);\n        if (isNaN(categoriaId) || isNaN(tipoId)) {\n            setError('Por favor, selecione uma categoria e um tipo válidos');\n            setLoading(false);\n            return;\n        }\n\n        try {\n            const formDataObj = new FormData();\n            \n            // Debug: Verificar o ID do Utilizador\n            console.log('currentUser:', currentUser);\n            console.log('currentUser.ID_User:', currentUser.ID_User);\n            console.log('typeof currentUser.ID_User:', typeof currentUser.ID_User);\n            \n            // Adicionar dados do produto\n            formDataObj.append('Titulo', titulo);\n            formDataObj.append('Descricao', descricao);\n            formDataObj.append('Preco', preco.toFixed(2)); // Enviar como string com 2 casas decimais\n            formDataObj.append('CategoriaID_Categoria', categoriaId);\n            formDataObj.append('Tipo_ItemID_Tipo', tipoId);\n            \n            // Garantir que o ID do usuário seja um número\n            const userId = parseInt(currentUser.ID_User);\n            console.log('userId após parseInt:', userId);\n            \n            if (isNaN(userId)) {\n                throw new Error('ID do usuário inválido');\n            }\n            \n            formDataObj.append('UtilizadorID_User', userId);\n            formDataObj.append('Status_AnuncioID_Status_Anuncio', 1); // 1 para status pendente\n\n            // Adicionar imagens\n            imagens.forEach((imagem, index) => {\n                if (imagem) {\n                    formDataObj.append(`imagens[${index}]`, imagem);\n                }\n            });\n\n            await anuncioService.criarAnuncio(formDataObj);\n\n            setSuccess('Anúncio criado com sucesso! Aguardando aprovação.');\n            \n            // Limpar formulário\n            setFormData({\n                Titulo: '',\n                Descricao: '',\n                Preco: '',\n                CategoriaID_Categoria: '',\n                Tipo_ItemID_Tipo: '1'\n            });\n            setImagens([]);\n            setImagemPreview([]);\n            \n            // Redirecionar após 2 segundos\n            setTimeout(() => {\n                navigate('/anuncios');\n            }, 2000);\n        } catch (err) {\n            console.error('Erro ao criar anúncio:', err);\n            \n            // Mostrar erros específicos do backend\n            if (err.response?.data?.errors) {\n                let errorMessage = 'Erro ao criar anúncio:\\n';\n                Object.entries(err.response.data.errors).forEach(([field, messages]) => {\n                    errorMessage += `-${field}: ${messages.join(', ')}\\n`;\n                });\n                setError(errorMessage);\n            } else {\n                setError(err.response?.data?.message || 'Erro ao criar anúncio. Por favor, tente novamente.');\n            }\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <>\n            <Header />\n            <Container className=\"py-5\">\n                <Row className=\"justify-content-center\">\n                    <Col md={8}>\n                        <Card className=\"shadow-sm\">\n                            <Card.Header className=\"bg-primary text-white\">\n                                <h2 className=\"mb-0\">Criar Novo Anúncio</h2>\n                            </Card.Header>\n                            <Card.Body>\n                                {error && <Alert variant=\"danger\">{error}</Alert>}\n                                {success && <Alert variant=\"success\">{success}</Alert>}\n\n                                <Form onSubmit={handleSubmit}>\n                                    <Row>\n                                        <Col md={12}>\n                                            <Form.Group className=\"mb-3\">\n                                                <Form.Label>Título do Anúncio</Form.Label>\n                                                <Form.Control\n                                                    type=\"text\"\n                                                    name=\"Titulo\"\n                                                    value={formData.Titulo}\n                                                    onChange={handleChange}\n                                                    required\n                                                    placeholder=\"Ex: iPhone 13 Pro Max 256GB\"\n                                                />\n                                            </Form.Group>\n                                        </Col>\n                                    </Row>\n\n                                    <Row>\n                                        <Col md={6}>\n                                            <Form.Group className=\"mb-4\">\n                                                <Form.Label>Categoria</Form.Label>\n                                                <Form.Select \n                                                    name=\"CategoriaID_Categoria\" \n                                                    value={formData.CategoriaID_Categoria}\n                                                    onChange={handleChange}\n                                                    required\n                                                >\n                                                    <option value=\"\">Selecione uma categoria</option>\n                                                    {categorias.map(categoria => (\n                                                        <option key={categoria.ID_Categoria} value={categoria.ID_Categoria}>\n                                                            {categoria.Descricao_Categoria}\n                                                        </option>\n                                                    ))}\n                                                </Form.Select>\n                                            </Form.Group>\n                                        </Col>\n                                        <Col md={6}>\n                                            <Form.Group className=\"mb-4\">\n                                                <Form.Label>Tipo</Form.Label>\n                                                <Form.Select \n                                                    name=\"Tipo_ItemID_Tipo\" \n                                                    value={formData.Tipo_ItemID_Tipo}\n                                                    onChange={handleChange}\n                                                    required\n                                                >\n                                                    <option value=\"\">Selecione um tipo</option>\n                                                    {tiposItem.map(tipo => (\n                                                        <option key={tipo.ID_Tipo} value={tipo.ID_Tipo}>\n                                                            {tipo.Descricao_TipoItem}\n                                                        </option>\n                                                    ))}\n                                                </Form.Select>\n                                            </Form.Group>\n                                        </Col>\n                                    </Row>\n\n                                    <Row>\n                                        <Col md={6}>\n                                            <Form.Group className=\"mb-3\">\n                                                <Form.Label>Preço (€)</Form.Label>\n                                                <Form.Control\n                                                    type=\"number\"\n                                                    step=\"0.01\"\n                                                    min=\"0\"\n                                                    max=\"9999.99\"\n                                                    name=\"Preco\"\n                                                    value={formData.Preco}\n                                                    onChange={handleChange}\n                                                    required\n                                                    placeholder=\"0.00\"\n                                                />\n                                                <Form.Text className=\"text-muted\">\n                                                    Valor máximo permitido: 9999.99€\n                                                </Form.Text>\n                                            </Form.Group>\n                                        </Col>\n                                        <Col md={6}>\n        \n                                        </Col>\n                                    </Row>\n\n                                    <Form.Group className=\"mb-3\">\n                                        <Form.Label>Descrição</Form.Label>\n                                        <Form.Control\n                                            as=\"textarea\"\n                                            rows={5}\n                                            name=\"Descricao\"\n                                            value={formData.Descricao}\n                                            onChange={handleChange}\n                                            required\n                                            placeholder=\"Descreva o seu produto ou serviço com detalhes...\"\n                                        />\n                                    </Form.Group>\n\n                                    <Form.Group className=\"mb-4\">\n                                        <Form.Label>Imagens</Form.Label>\n                                        <Form.Control\n                                            type=\"file\"\n                                            multiple\n                                            accept=\"image/*\"\n                                            onChange={handleImagemChange}\n                                            className=\"mb-3\"\n                                        />\n                                        <Form.Text className=\"text-muted mb-3 d-block\">\n                                            Pode selecionar múltiplas imagens (opcional). A primeira será a imagem principal.\n                                        </Form.Text>\n                                        \n                                        {imagemPreview.length > 0 && (\n                                            <div className=\"image-preview-container d-flex flex-wrap\">\n                                                {imagemPreview.map((preview, index) => (\n                                                    <div key={index} className=\"image-preview me-2 mb-2\">\n                                                        <img \n                                                            src={preview} \n                                                            alt={`Preview ${index}`} \n                                                            style={{ width: '100px', height: '100px', objectFit: 'cover' }}\n                                                            className=\"rounded\"\n                                                        />\n                                                    </div>\n                                                ))}\n                                            </div>\n                                        )}\n                                    </Form.Group>\n\n                                    <div className=\"d-grid gap-2\">\n                                        <Button \n                                            variant=\"primary\" \n                                            type=\"submit\"\n                                            disabled={loading}\n                                            size=\"lg\"\n                                            style={{ backgroundColor: '#F97316', borderColor: '#F97316' }}\n                                        >\n                                            {loading ? (\n                                                <>\n                                                    <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\n                                                    A criar anúncio...\n                                                </>\n                                            ) : (\n                                                <>Publicar Anúncio</>\n                                            )}\n                                        </Button>\n                                    </div>\n                                </Form>\n                            </Card.Body>\n                        </Card>\n                    </Col>\n                </Row>\n            </Container>\n            <Footer />\n        </>\n    );\n};\n\nexport default CriarProduto;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}