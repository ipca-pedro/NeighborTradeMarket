{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\NeighborTradeMarket\\\\frontend\\\\src\\\\components\\\\notifications\\\\NotificationDropdown.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NotificationDropdown = ({\n  notifications,\n  onRead\n}) => {\n  const getNotificationIcon = type => {\n    switch (type) {\n      case 'ANUNCIO_PENDENTE':\n        return 'fas fa-clock text-warning';\n      case 'ANUNCIO_APROVADO':\n        return 'fas fa-check-circle text-success';\n      case 'ANUNCIO_REJEITADO':\n        return 'fas fa-times-circle text-danger';\n      case 'USER_REGISTRATION':\n        return 'fas fa-user-plus text-info';\n      default:\n        return 'fas fa-bell text-primary';\n    }\n  };\n  const getNotificationMessage = notification => {\n    switch (notification.type) {\n      case 'ANUNCIO_PENDENTE':\n        return `Novo anúncio \"${notification.titulo}\" aguardando aprovação`;\n      case 'ANUNCIO_APROVADO':\n        return `Seu anúncio \"${notification.titulo}\" foi aprovado`;\n      case 'ANUNCIO_REJEITADO':\n        return `Seu anúncio \"${notification.titulo}\" foi rejeitado`;\n      case 'USER_REGISTRATION':\n        return `Novo pedido de registo de utilizador: ${notification.userName}`;\n      default:\n        return notification.message;\n    }\n  };\n  const formatDate = date => {\n    const notificationDate = new Date(date);\n    const now = new Date();\n    const diffTime = Math.abs(now - notificationDate);\n    const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\n    const diffHours = Math.floor(diffTime / (1000 * 60 * 60));\n    const diffMinutes = Math.floor(diffTime / (1000 * 60));\n    if (diffDays > 0) {\n      return `${diffDays} dia${diffDays > 1 ? 's' : ''} atrás`;\n    } else if (diffHours > 0) {\n      return `${diffHours} hora${diffHours > 1 ? 's' : ''} atrás`;\n    } else if (diffMinutes > 0) {\n      return `${diffMinutes} minuto${diffMinutes > 1 ? 's' : ''} atrás`;\n    } else {\n      return 'Agora mesmo';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"position-absolute bg-white shadow rounded\",\n    style: {\n      top: '100%',\n      right: 0,\n      width: '320px',\n      zIndex: 1000\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-3 border-bottom d-flex justify-content-between align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n        className: \"mb-0\",\n        children: \"Notifica\\xE7\\xF5es\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), notifications.some(n => !n.read) && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-link btn-sm p-0 text-decoration-none\",\n        onClick: () => onRead(notifications.filter(n => !n.read).map(n => n.id)),\n        children: \"Marcar todas como lidas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notifications-list\",\n      style: {\n        maxHeight: '400px',\n        overflowY: 'auto'\n      },\n      children: notifications.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 text-center text-muted\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-bell fa-2x mb-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-0\",\n          children: \"Nenhuma notifica\\xE7\\xE3o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          children: \"Voc\\xEA ser\\xE1 notificado sobre atualiza\\xE7\\xF5es importantes aqui\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this) : notifications.map(notification => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-3 border-bottom notification-item ${!notification.read ? 'bg-light' : ''}`,\n        style: {\n          cursor: 'pointer'\n        },\n        onClick: () => !notification.read && onRead([notification.id]),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"me-3\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: getNotificationIcon(notification.type)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-grow-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-1\",\n              style: {\n                fontSize: '0.9rem'\n              },\n              children: getNotificationMessage(notification)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-muted\",\n              children: formatDate(notification.createdAt)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 33\n          }, this), !notification.read && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ms-2\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"badge bg-primary rounded-pill\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 29\n        }, this)\n      }, notification.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n_c = NotificationDropdown;\nexport default NotificationDropdown;\nvar _c;\n$RefreshReg$(_c, \"NotificationDropdown\");","map":{"version":3,"names":["React","Link","jsxDEV","_jsxDEV","NotificationDropdown","notifications","onRead","getNotificationIcon","type","getNotificationMessage","notification","titulo","userName","message","formatDate","date","notificationDate","Date","now","diffTime","Math","abs","diffDays","floor","diffHours","diffMinutes","className","style","top","right","width","zIndex","children","fileName","_jsxFileName","lineNumber","columnNumber","some","n","read","onClick","filter","map","id","maxHeight","overflowY","length","cursor","fontSize","createdAt","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/NeighborTradeMarket/frontend/src/components/notifications/NotificationDropdown.js"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst NotificationDropdown = ({ notifications, onRead }) => {\n    const getNotificationIcon = (type) => {\n        switch (type) {\n            case 'ANUNCIO_PENDENTE':\n                return 'fas fa-clock text-warning';\n            case 'ANUNCIO_APROVADO':\n                return 'fas fa-check-circle text-success';\n            case 'ANUNCIO_REJEITADO':\n                return 'fas fa-times-circle text-danger';\n            case 'USER_REGISTRATION':\n                return 'fas fa-user-plus text-info';\n            default:\n                return 'fas fa-bell text-primary';\n        }\n    };\n\n    const getNotificationMessage = (notification) => {\n        switch (notification.type) {\n            case 'ANUNCIO_PENDENTE':\n                return `Novo anúncio \"${notification.titulo}\" aguardando aprovação`;\n            case 'ANUNCIO_APROVADO':\n                return `Seu anúncio \"${notification.titulo}\" foi aprovado`;\n            case 'ANUNCIO_REJEITADO':\n                return `Seu anúncio \"${notification.titulo}\" foi rejeitado`;\n            case 'USER_REGISTRATION':\n                return `Novo pedido de registo de utilizador: ${notification.userName}`;\n            default:\n                return notification.message;\n        }\n    };\n\n    const formatDate = (date) => {\n        const notificationDate = new Date(date);\n        const now = new Date();\n        const diffTime = Math.abs(now - notificationDate);\n        const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\n        const diffHours = Math.floor(diffTime / (1000 * 60 * 60));\n        const diffMinutes = Math.floor(diffTime / (1000 * 60));\n\n        if (diffDays > 0) {\n            return `${diffDays} dia${diffDays > 1 ? 's' : ''} atrás`;\n        } else if (diffHours > 0) {\n            return `${diffHours} hora${diffHours > 1 ? 's' : ''} atrás`;\n        } else if (diffMinutes > 0) {\n            return `${diffMinutes} minuto${diffMinutes > 1 ? 's' : ''} atrás`;\n        } else {\n            return 'Agora mesmo';\n        }\n    };\n\n    return (\n        <div className=\"position-absolute bg-white shadow rounded\" style={{ top: '100%', right: 0, width: '320px', zIndex: 1000 }}>\n            <div className=\"p-3 border-bottom d-flex justify-content-between align-items-center\">\n                <h6 className=\"mb-0\">Notificações</h6>\n                {notifications.some(n => !n.read) && (\n                    <button \n                        className=\"btn btn-link btn-sm p-0 text-decoration-none\"\n                        onClick={() => onRead(notifications.filter(n => !n.read).map(n => n.id))}\n                    >\n                        Marcar todas como lidas\n                    </button>\n                )}\n            </div>\n            <div className=\"notifications-list\" style={{ maxHeight: '400px', overflowY: 'auto' }}>\n                {notifications.length === 0 ? (\n                    <div className=\"p-4 text-center text-muted\">\n                        <i className=\"fas fa-bell fa-2x mb-2\"></i>\n                        <p className=\"mb-0\">Nenhuma notificação</p>\n                        <small>Você será notificado sobre atualizações importantes aqui</small>\n                    </div>\n                ) : (\n                    notifications.map(notification => (\n                        <div \n                            key={notification.id} \n                            className={`p-3 border-bottom notification-item ${!notification.read ? 'bg-light' : ''}`}\n                            style={{ cursor: 'pointer' }}\n                            onClick={() => !notification.read && onRead([notification.id])}\n                        >\n                            <div className=\"d-flex\">\n                                <div className=\"me-3\">\n                                    <i className={getNotificationIcon(notification.type)}></i>\n                                </div>\n                                <div className=\"flex-grow-1\">\n                                    <p className=\"mb-1\" style={{ fontSize: '0.9rem' }}>\n                                        {getNotificationMessage(notification)}\n                                    </p>\n                                    <small className=\"text-muted\">\n                                        {formatDate(notification.createdAt)}\n                                    </small>\n                                </div>\n                                {!notification.read && (\n                                    <div className=\"ms-2\">\n                                        <span className=\"badge bg-primary rounded-pill\"></span>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                    ))\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default NotificationDropdown;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}