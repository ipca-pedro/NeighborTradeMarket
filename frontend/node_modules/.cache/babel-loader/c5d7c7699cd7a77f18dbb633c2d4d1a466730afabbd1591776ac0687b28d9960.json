{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\NeighborTradeMarket\\\\frontend\\\\src\\\\components\\\\admin\\\\AllAnuncios.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { Container, Table, Button, Modal, Form, Alert, Card, Badge, Spinner, InputGroup, FormControl, Row, Col, Dropdown, OverlayTrigger, Tooltip, Image, Carousel, ListGroup } from 'react-bootstrap';\nimport api, { adminService, anuncioService } from '../../services/api'; // Assuming anuncioService exists for categories/types\nimport Header from '../layout/Header';\n\n// Helper function to get the base URL for storage\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst getStorageBaseUrl = () => {\n  const apiUrl = api.defaults.baseURL || '';\n  return apiUrl.endsWith('/api') ? apiUrl.slice(0, -4) : apiUrl;\n};\n\n// Helper to format currency\nconst formatCurrency = value => {\n  return new Intl.NumberFormat('pt-PT', {\n    style: 'currency',\n    currency: 'EUR'\n  }).format(value);\n};\n\n// --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- ---\n\nconst AllAnuncios = () => {\n  _s();\n  var _selectedAnuncio$cate, _selectedAnuncio$tipo, _selectedAnuncio$util, _selectedAnuncio$util2;\n  // --- Badge Components (Moved Inside) ---\n  const AnuncioStatusBadge = ({\n    statusId\n  }) => {\n    // IDs based on StatusAnuncio model constants\n    switch (statusId) {\n      case 1:\n        return /*#__PURE__*/_jsxDEV(Badge, {\n          bg: \"success\",\n          children: \"Ativo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 28\n        }, this);\n      case 4:\n        return /*#__PURE__*/_jsxDEV(Badge, {\n          bg: \"warning\",\n          children: \"Pendente\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 28\n        }, this);\n      case 7:\n        return /*#__PURE__*/_jsxDEV(Badge, {\n          bg: \"danger\",\n          children: \"Rejeitado\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 28\n        }, this);\n      case 2:\n        return /*#__PURE__*/_jsxDEV(Badge, {\n          bg: \"secondary\",\n          children: \"Inativo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 28\n        }, this);\n      case 3:\n        return /*#__PURE__*/_jsxDEV(Badge, {\n          bg: \"info\",\n          children: \"Vendido\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 28\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Badge, {\n          bg: \"light\",\n          text: \"dark\",\n          children: [\"Desconhecido (\", statusId, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 29\n        }, this);\n    }\n  };\n  const CategoriaBadge = ({\n    categoria\n  }) => /*#__PURE__*/_jsxDEV(Badge, {\n    bg: \"info\",\n    pill: true,\n    children: (categoria === null || categoria === void 0 ? void 0 : categoria.Descricao_Categoria) || 'N/A'\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n  const TipoItemBadge = ({\n    tipoItem\n  }) => /*#__PURE__*/_jsxDEV(Badge, {\n    bg: \"secondary\",\n    pill: true,\n    children: (tipoItem === null || tipoItem === void 0 ? void 0 : tipoItem.Descricao_TipoItem) || 'N/A'\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n  // --- End Badge Components ---\n\n  const [allAnuncios, setAllAnuncios] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  // --- Filter State ---\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterStatus, setFilterStatus] = useState('');\n  const [filterCategory, setFilterCategory] = useState('');\n  const [filterType, setFilterType] = useState('');\n  // --- Options for Filters ---\n  const [statusOptions, setStatusOptions] = useState([]);\n  const [categoryOptions, setCategoryOptions] = useState([]);\n  const [typeOptions, setTypeOptions] = useState([]);\n\n  // --- Modal State ---\n  const [showDetailsModal, setShowDetailsModal] = useState(false);\n  const [selectedAnuncio, setSelectedAnuncio] = useState(null);\n  const [isUpdatingStatus, setIsUpdatingStatus] = useState(false); // Loading state for status update\n  const [message, setMessage] = useState(''); // Added for success message handling\n\n  // --- Load Initial Data (Anuncios, Categories, Types) ---\n  useEffect(() => {\n    loadData();\n  }, []);\n  const loadData = async () => {\n    setLoading(true);\n    setError('');\n    try {\n      // Fetch in parallel\n      const [anunciosRes, categoriesRes, typesRes] = await Promise.all([adminService.getAllAnunciosAdmin(),\n      // Fetch all initially\n      anuncioService.getCategorias(),\n      // Need function to get categories\n      anuncioService.getTiposItem() // Need function to get item types\n      ]);\n      setAllAnuncios(anunciosRes || []);\n\n      // Prepare options for dropdowns\n      setCategoryOptions([{\n        ID_Categoria: '',\n        Descricao_Categoria: 'Todas as Categorias'\n      }, ...(categoriesRes || [])]);\n      setTypeOptions([{\n        ID_Tipo: '',\n        Descricao_TipoItem: 'Todos os Tipos'\n      }, ...(typesRes || [])]);\n\n      // Prepare status options (assuming fixed for now, adjust based on your StatusAnuncio table)\n      setStatusOptions([{\n        id: '',\n        name: 'Todos os Estados'\n      }, {\n        id: 1,\n        name: 'Ativo'\n      }, {\n        id: 4,\n        name: 'Pendente'\n      }, {\n        id: 7,\n        name: 'Rejeitado'\n      }, {\n        id: 2,\n        name: 'Inativo'\n      },\n      // Adjust if needed\n      {\n        id: 3,\n        name: 'Vendido'\n      } // Adjust if needed\n      ]);\n    } catch (err) {\n      console.error('Erro ao carregar dados de gestão de anúncios:', err);\n      setError('Falha ao carregar dados. Tente recarregar a página.');\n      setAllAnuncios([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // --- Filtering Logic --- \n  const filteredAnuncios = useMemo(() => {\n    return allAnuncios.filter(anuncio => {\n      var _anuncio$Titulo, _anuncio$Descricao, _anuncio$utilizador, _anuncio$utilizador$N;\n      const statusMatch = filterStatus === '' || anuncio.Status_AnuncioID_Status_Anuncio === parseInt(filterStatus);\n      const categoryMatch = filterCategory === '' || anuncio.CategoriaID_Categoria === parseInt(filterCategory);\n      const typeMatch = filterType === '' || anuncio.Tipo_ItemID_Tipo === parseInt(filterType);\n      const searchMatch = searchTerm === '' || ((_anuncio$Titulo = anuncio.Titulo) === null || _anuncio$Titulo === void 0 ? void 0 : _anuncio$Titulo.toLowerCase().includes(searchTerm.toLowerCase())) || ((_anuncio$Descricao = anuncio.Descricao) === null || _anuncio$Descricao === void 0 ? void 0 : _anuncio$Descricao.toLowerCase().includes(searchTerm.toLowerCase())) || (// Search description too?\n      (_anuncio$utilizador = anuncio.utilizador) === null || _anuncio$utilizador === void 0 ? void 0 : (_anuncio$utilizador$N = _anuncio$utilizador.Name) === null || _anuncio$utilizador$N === void 0 ? void 0 : _anuncio$utilizador$N.toLowerCase().includes(searchTerm.toLowerCase()));\n      return statusMatch && categoryMatch && typeMatch && searchMatch;\n    });\n  }, [allAnuncios, searchTerm, filterStatus, filterCategory, filterType]);\n  // --- --- --- --- --- --- --- --- --- --- ---\n\n  // --- Modal Functions & Actions ---\n  const openDetailsModal = anuncio => {\n    setSelectedAnuncio(anuncio); // Set the full object\n    setShowDetailsModal(true);\n  };\n  const closeDetailsModal = () => {\n    setShowDetailsModal(false);\n    setSelectedAnuncio(null);\n  };\n  const handleStatusChange = async newStatusId => {\n    if (!selectedAnuncio || selectedAnuncio.Status_AnuncioID_Status_Anuncio === newStatusId) {\n      return; // No change or no selection\n    }\n    setIsUpdatingStatus(true);\n    setError(''); // Clear previous errors\n    setMessage(''); // Clear previous messages\n\n    try {\n      const response = await adminService.updateAnuncioStatusAdmin(selectedAnuncio.ID_Anuncio, newStatusId);\n\n      // Update the state for the selected anuncio in the modal\n      setSelectedAnuncio(response.anuncio);\n\n      // Update the anuncio in the main list\n      setAllAnuncios(prevAnuncios => prevAnuncios.map(a => a.ID_Anuncio === selectedAnuncio.ID_Anuncio ? response.anuncio : a));\n      setMessage(response.message || 'Estado atualizado com sucesso!');\n      // Keep modal open after status change\n    } catch (err) {\n      console.error('Erro ao atualizar estado do anúncio:', err);\n      setError(err.message || 'Falha ao atualizar estado.');\n    } finally {\n      setIsUpdatingStatus(false);\n    }\n  };\n  // --- --- --- --- --- --- --- --- --- --- ---\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"my-5\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: \"shadow-sm mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n          className: \"bg-primary text-white d-flex justify-content-between align-items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"mb-0\",\n            children: \"Gest\\xE3o de An\\xFAncios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: [error && /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"danger\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 35\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            className: \"mb-3 gx-2\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: 4,\n              children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-search\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 54\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                  placeholder: \"Pesquisar t\\xEDtulo, descri\\xE7\\xE3o, utilizador...\",\n                  value: searchTerm,\n                  onChange: e => setSearchTerm(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 2,\n              children: /*#__PURE__*/_jsxDEV(Form.Select, {\n                value: filterStatus,\n                onChange: e => setFilterStatus(e.target.value),\n                title: \"Filtrar por Estado\",\n                children: statusOptions.map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: opt.id,\n                  children: opt.name\n                }, `status-${opt.id}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 63\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 2,\n              children: /*#__PURE__*/_jsxDEV(Form.Select, {\n                value: filterCategory,\n                onChange: e => setFilterCategory(e.target.value),\n                title: \"Filtrar por Categoria\",\n                children: categoryOptions.map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: opt.ID_Categoria,\n                  children: opt.Descricao_Categoria\n                }, `cat-${opt.ID_Categoria}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 65\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 2,\n              children: /*#__PURE__*/_jsxDEV(Form.Select, {\n                value: filterType,\n                onChange: e => setFilterType(e.target.value),\n                title: \"Filtrar por Tipo\",\n                children: typeOptions.map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: opt.ID_Tipo,\n                  children: opt.Descricao_TipoItem\n                }, `type-${opt.ID_Tipo}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 61\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 2,\n              className: \"d-flex align-items-end justify-content-end\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-secondary\",\n                onClick: () => {\n                  setSearchTerm('');\n                  setFilterStatus('');\n                  setFilterCategory('');\n                  setFilterType('');\n                },\n                title: \"Limpar Filtros\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-times\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 37\n                }, this), \" Limpar\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 25\n          }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-5\",\n            children: [/*#__PURE__*/_jsxDEV(Spinner, {\n              animation: \"border\",\n              variant: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-3\",\n              children: \"A carregar an\\xFAncios...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-2 text-muted small\",\n              children: [\"A mostrar \", filteredAnuncios.length, \" de \", allAnuncios.length, \" an\\xFAncios\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Table, {\n              responsive: true,\n              hover: true,\n              className: \"align-middle\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-light\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    style: {\n                      width: '5%'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 45\n                  }, this), \" \", /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"T\\xEDtulo\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 224,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Utilizador\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Pre\\xE7o\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Categoria / Tipo\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Estado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 228,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"A\\xE7\\xF5es\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: filteredAnuncios.length > 0 ? filteredAnuncios.map(anuncio => {\n                  var _anuncio$item_imagems, _anuncio$item_imagems2, _anuncio$utilizador2;\n                  const firstImage = (_anuncio$item_imagems = anuncio.item_imagems) === null || _anuncio$item_imagems === void 0 ? void 0 : (_anuncio$item_imagems2 = _anuncio$item_imagems[0]) === null || _anuncio$item_imagems2 === void 0 ? void 0 : _anuncio$item_imagems2.imagem;\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: firstImage ? /*#__PURE__*/_jsxDEV(Image, {\n                        src: `${getStorageBaseUrl()}/storage/${firstImage.Caminho}`,\n                        thumbnail: true,\n                        width: \"50\",\n                        onError: e => {\n                          e.target.style.display = 'none';\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 240,\n                        columnNumber: 65\n                      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-light text-center d-flex align-items-center justify-content-center\",\n                        style: {\n                          width: '50px',\n                          height: '50px'\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fas fa-image text-muted\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 247,\n                          columnNumber: 70\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 246,\n                        columnNumber: 65\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 238,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: anuncio.Titulo\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 251,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: ((_anuncio$utilizador2 = anuncio.utilizador) === null || _anuncio$utilizador2 === void 0 ? void 0 : _anuncio$utilizador2.Name) || 'N/A'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 252,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: formatCurrency(anuncio.Preco)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 253,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: [/*#__PURE__*/_jsxDEV(CategoriaBadge, {\n                        categoria: anuncio.categorium\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 255,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 255,\n                        columnNumber: 110\n                      }, this), /*#__PURE__*/_jsxDEV(TipoItemBadge, {\n                        tipoItem: anuncio.tipo_item\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 256,\n                        columnNumber: 61\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 254,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(AnuncioStatusBadge, {\n                        statusId: anuncio.Status_AnuncioID_Status_Anuncio\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 259,\n                        columnNumber: 61\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 258,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"outline-primary\",\n                        size: \"sm\",\n                        title: \"Ver Detalhes\",\n                        onClick: () => openDetailsModal(anuncio),\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fas fa-eye\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 268,\n                          columnNumber: 65\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 262,\n                        columnNumber: 61\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 261,\n                      columnNumber: 57\n                    }, this)]\n                  }, anuncio.ID_Anuncio, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 53\n                  }, this);\n                }) : /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: \"7\",\n                    className: \"text-center text-muted py-4\",\n                    children: \"Nenhum an\\xFAncio encontrado com os filtros atuais.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showDetailsModal,\n      onHide: closeDetailsModal,\n      size: \"lg\",\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Detalhes do An\\xFAncio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: selectedAnuncio && /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            className: \"mb-3 mb-md-0\",\n            children: selectedAnuncio.item_imagems && selectedAnuncio.item_imagems.length > 0 ? /*#__PURE__*/_jsxDEV(Carousel, {\n              interval: null,\n              children: selectedAnuncio.item_imagems.map((img, index) => {\n                var _img$imagem;\n                return /*#__PURE__*/_jsxDEV(Carousel.Item, {\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"d-block w-100\",\n                    src: `${getStorageBaseUrl()}/storage/${(_img$imagem = img.imagem) === null || _img$imagem === void 0 ? void 0 : _img$imagem.Caminho}`,\n                    alt: `Imagem ${index + 1}`,\n                    style: {\n                      height: '400px',\n                      objectFit: 'contain'\n                    },\n                    onError: e => {\n                      e.target.onerror = null;\n                      e.target.src = 'https://via.placeholder.com/400x400?text=Erro';\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 302,\n                    columnNumber: 49\n                  }, this)\n                }, img.ID_Imagem || index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 45\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 37\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-light d-flex align-items-center justify-content-center\",\n              style: {\n                height: '400px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-image fa-5x text-muted\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: selectedAnuncio.Titulo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n              variant: \"flush\",\n              children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Pre\\xE7o:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 53\n                }, this), \" \", formatCurrency(selectedAnuncio.Preco)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Estado:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 53\n                }, this), \" \", /*#__PURE__*/_jsxDEV(AnuncioStatusBadge, {\n                  statusId: selectedAnuncio.Status_AnuncioID_Status_Anuncio\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 78\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Categoria:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 53\n                }, this), \" \", ((_selectedAnuncio$cate = selectedAnuncio.categorium) === null || _selectedAnuncio$cate === void 0 ? void 0 : _selectedAnuncio$cate.Descricao_Categoria) || 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Tipo:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 53\n                }, this), \" \", ((_selectedAnuncio$tipo = selectedAnuncio.tipo_item) === null || _selectedAnuncio$tipo === void 0 ? void 0 : _selectedAnuncio$tipo.Descricao_TipoItem) || 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Descri\\xE7\\xE3o:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 80\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    maxHeight: '150px',\n                    overflowY: 'auto',\n                    whiteSpace: 'pre-wrap'\n                  },\n                  children: selectedAnuncio.Descricao || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 85\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Utilizador:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 41\n                }, this), \" \", ((_selectedAnuncio$util = selectedAnuncio.utilizador) === null || _selectedAnuncio$util === void 0 ? void 0 : _selectedAnuncio$util.Name) || 'N/A', \" (@\", ((_selectedAnuncio$util2 = selectedAnuncio.utilizador) === null || _selectedAnuncio$util2 === void 0 ? void 0 : _selectedAnuncio$util2.User_Name) || 'N/A', \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Alterar Estado:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n                onSelect: eventKey => handleStatusChange(parseInt(eventKey)),\n                children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n                  variant: \"outline-secondary\",\n                  id: \"dropdown-status-change\",\n                  size: \"sm\",\n                  disabled: isUpdatingStatus // Disable while updating\n                  ,\n                  className: \"w-100 d-flex justify-content-between align-items-center\",\n                  children: isUpdatingStatus ? /*#__PURE__*/_jsxDEV(Spinner, {\n                    as: \"span\",\n                    animation: \"border\",\n                    size: \"sm\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 49\n                  }, this) : /*#__PURE__*/_jsxDEV(AnuncioStatusBadge, {\n                    statusId: selectedAnuncio.Status_AnuncioID_Status_Anuncio\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 344,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n                  className: \"w-100\",\n                  children: statusOptions.map(opt =>\n                  // Don't show the 'All' option and the current status\n                  opt.id !== '' && opt.id !== selectedAnuncio.Status_AnuncioID_Status_Anuncio ? /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                    eventKey: opt.id.toString() // Pass ID as eventKey\n                    ,\n                    children: [/*#__PURE__*/_jsxDEV(AnuncioStatusBadge, {\n                      statusId: opt.id\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 357,\n                      columnNumber: 56\n                    }, this), \" \", opt.name]\n                  }, `status-change-${opt.id}`, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 352,\n                    columnNumber: 53\n                  }, this) : null)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 33\n            }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n              variant: \"danger\",\n              className: \"mt-2 py-1 px-2 small\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 43\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: closeDetailsModal,\n          children: \"Fechar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 21\n        }, this), message && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-success ms-2 small\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-check-circle me-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 76\n          }, this), message]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 34\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(AllAnuncios, \"XFympJB+P58hErgFyV+19kX7QBw=\");\n_c = AllAnuncios;\nexport default AllAnuncios;\nvar _c;\n$RefreshReg$(_c, \"AllAnuncios\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","Container","Table","Button","Modal","Form","Alert","Card","Badge","Spinner","InputGroup","FormControl","Row","Col","Dropdown","OverlayTrigger","Tooltip","Image","Carousel","ListGroup","api","adminService","anuncioService","Header","jsxDEV","_jsxDEV","Fragment","_Fragment","getStorageBaseUrl","apiUrl","defaults","baseURL","endsWith","slice","formatCurrency","value","Intl","NumberFormat","style","currency","format","AllAnuncios","_s","_selectedAnuncio$cate","_selectedAnuncio$tipo","_selectedAnuncio$util","_selectedAnuncio$util2","AnuncioStatusBadge","statusId","bg","children","fileName","_jsxFileName","lineNumber","columnNumber","text","CategoriaBadge","categoria","pill","Descricao_Categoria","TipoItemBadge","tipoItem","Descricao_TipoItem","allAnuncios","setAllAnuncios","loading","setLoading","error","setError","searchTerm","setSearchTerm","filterStatus","setFilterStatus","filterCategory","setFilterCategory","filterType","setFilterType","statusOptions","setStatusOptions","categoryOptions","setCategoryOptions","typeOptions","setTypeOptions","showDetailsModal","setShowDetailsModal","selectedAnuncio","setSelectedAnuncio","isUpdatingStatus","setIsUpdatingStatus","message","setMessage","loadData","anunciosRes","categoriesRes","typesRes","Promise","all","getAllAnunciosAdmin","getCategorias","getTiposItem","ID_Categoria","ID_Tipo","id","name","err","console","filteredAnuncios","filter","anuncio","_anuncio$Titulo","_anuncio$Descricao","_anuncio$utilizador","_anuncio$utilizador$N","statusMatch","Status_AnuncioID_Status_Anuncio","parseInt","categoryMatch","CategoriaID_Categoria","typeMatch","Tipo_ItemID_Tipo","searchMatch","Titulo","toLowerCase","includes","Descricao","utilizador","Name","openDetailsModal","closeDetailsModal","handleStatusChange","newStatusId","response","updateAnuncioStatusAdmin","ID_Anuncio","prevAnuncios","map","a","className","Body","variant","md","Text","placeholder","onChange","e","target","Select","title","opt","onClick","animation","length","responsive","hover","width","_anuncio$item_imagems","_anuncio$item_imagems2","_anuncio$utilizador2","firstImage","item_imagems","imagem","src","Caminho","thumbnail","onError","display","height","Preco","categorium","tipo_item","size","colSpan","show","onHide","closeButton","Title","interval","img","index","_img$imagem","Item","alt","objectFit","onerror","ID_Imagem","maxHeight","overflowY","whiteSpace","User_Name","Group","Label","onSelect","eventKey","Toggle","disabled","as","Menu","toString","Footer","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/NeighborTradeMarket/frontend/src/components/admin/AllAnuncios.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport {\n    Container, Table, Button, Modal, Form, Alert, Card, Badge, Spinner, \n    InputGroup, FormControl, Row, Col, Dropdown, OverlayTrigger, Tooltip, Image, Carousel, ListGroup\n} from 'react-bootstrap';\nimport api, { adminService, anuncioService } from '../../services/api'; // Assuming anuncioService exists for categories/types\nimport Header from '../layout/Header';\n\n// Helper function to get the base URL for storage\nconst getStorageBaseUrl = () => {\n    const apiUrl = api.defaults.baseURL || '';\n    return apiUrl.endsWith('/api') ? apiUrl.slice(0, -4) : apiUrl;\n};\n\n// Helper to format currency\nconst formatCurrency = (value) => {\n    return new Intl.NumberFormat('pt-PT', { style: 'currency', currency: 'EUR' }).format(value);\n};\n\n// --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- ---\n\nconst AllAnuncios = () => {\n    // --- Badge Components (Moved Inside) ---\n    const AnuncioStatusBadge = ({ statusId }) => {\n        // IDs based on StatusAnuncio model constants\n        switch (statusId) {\n            case 1: return <Badge bg=\"success\">Ativo</Badge>;\n            case 4: return <Badge bg=\"warning\">Pendente</Badge>;\n            case 7: return <Badge bg=\"danger\">Rejeitado</Badge>;\n            case 2: return <Badge bg=\"secondary\">Inativo</Badge>;\n            case 3: return <Badge bg=\"info\">Vendido</Badge>;\n            default: return <Badge bg=\"light\" text=\"dark\">Desconhecido ({statusId})</Badge>;\n        }\n    };\n\n    const CategoriaBadge = ({ categoria }) => (\n        <Badge bg=\"info\" pill>{categoria?.Descricao_Categoria || 'N/A'}</Badge>\n    );\n\n    const TipoItemBadge = ({ tipoItem }) => (\n        <Badge bg=\"secondary\" pill>{tipoItem?.Descricao_TipoItem || 'N/A'}</Badge>\n    );\n    // --- End Badge Components ---\n\n    const [allAnuncios, setAllAnuncios] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState('');\n    \n    // --- Filter State ---\n    const [searchTerm, setSearchTerm] = useState('');\n    const [filterStatus, setFilterStatus] = useState('');\n    const [filterCategory, setFilterCategory] = useState('');\n    const [filterType, setFilterType] = useState('');\n    // --- Options for Filters ---\n    const [statusOptions, setStatusOptions] = useState([]);\n    const [categoryOptions, setCategoryOptions] = useState([]);\n    const [typeOptions, setTypeOptions] = useState([]);\n\n    // --- Modal State ---\n    const [showDetailsModal, setShowDetailsModal] = useState(false);\n    const [selectedAnuncio, setSelectedAnuncio] = useState(null);\n    const [isUpdatingStatus, setIsUpdatingStatus] = useState(false); // Loading state for status update\n    const [message, setMessage] = useState(''); // Added for success message handling\n\n    // --- Load Initial Data (Anuncios, Categories, Types) ---\n    useEffect(() => {\n        loadData();\n    }, []);\n\n    const loadData = async () => {\n        setLoading(true);\n        setError('');\n        try {\n            // Fetch in parallel\n            const [anunciosRes, categoriesRes, typesRes] = await Promise.all([\n                adminService.getAllAnunciosAdmin(), // Fetch all initially\n                anuncioService.getCategorias(), // Need function to get categories\n                anuncioService.getTiposItem() // Need function to get item types\n            ]);\n\n            setAllAnuncios(anunciosRes || []);\n            \n            // Prepare options for dropdowns\n            setCategoryOptions([{ ID_Categoria: '', Descricao_Categoria: 'Todas as Categorias' }, ...(categoriesRes || [])]);\n            setTypeOptions([{ ID_Tipo: '', Descricao_TipoItem: 'Todos os Tipos' }, ...(typesRes || [])]);\n            \n            // Prepare status options (assuming fixed for now, adjust based on your StatusAnuncio table)\n             setStatusOptions([\n                 { id: '', name: 'Todos os Estados' },\n                 { id: 1, name: 'Ativo' },\n                 { id: 4, name: 'Pendente' },\n                 { id: 7, name: 'Rejeitado' },\n                 { id: 2, name: 'Inativo' }, // Adjust if needed\n                 { id: 3, name: 'Vendido' }, // Adjust if needed\n             ]);\n\n        } catch (err) {\n            console.error('Erro ao carregar dados de gestão de anúncios:', err);\n            setError('Falha ao carregar dados. Tente recarregar a página.');\n            setAllAnuncios([]);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // --- Filtering Logic --- \n    const filteredAnuncios = useMemo(() => {\n        return allAnuncios.filter(anuncio => {\n            const statusMatch = filterStatus === '' || anuncio.Status_AnuncioID_Status_Anuncio === parseInt(filterStatus);\n            const categoryMatch = filterCategory === '' || anuncio.CategoriaID_Categoria === parseInt(filterCategory);\n            const typeMatch = filterType === '' || anuncio.Tipo_ItemID_Tipo === parseInt(filterType);\n            const searchMatch = searchTerm === '' || \n                                anuncio.Titulo?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                                anuncio.Descricao?.toLowerCase().includes(searchTerm.toLowerCase()) || // Search description too?\n                                anuncio.utilizador?.Name?.toLowerCase().includes(searchTerm.toLowerCase());\n            return statusMatch && categoryMatch && typeMatch && searchMatch;\n        });\n    }, [allAnuncios, searchTerm, filterStatus, filterCategory, filterType]);\n    // --- --- --- --- --- --- --- --- --- --- ---\n\n    // --- Modal Functions & Actions ---\n    const openDetailsModal = (anuncio) => {\n        setSelectedAnuncio(anuncio); // Set the full object\n        setShowDetailsModal(true);\n    };\n\n    const closeDetailsModal = () => {\n        setShowDetailsModal(false);\n        setSelectedAnuncio(null);\n    };\n    \n    const handleStatusChange = async (newStatusId) => {\n        if (!selectedAnuncio || selectedAnuncio.Status_AnuncioID_Status_Anuncio === newStatusId) {\n            return; // No change or no selection\n        }\n\n        setIsUpdatingStatus(true);\n        setError(''); // Clear previous errors\n        setMessage(''); // Clear previous messages\n\n        try {\n            const response = await adminService.updateAnuncioStatusAdmin(selectedAnuncio.ID_Anuncio, newStatusId);\n            \n            // Update the state for the selected anuncio in the modal\n            setSelectedAnuncio(response.anuncio); \n\n            // Update the anuncio in the main list\n            setAllAnuncios(prevAnuncios => \n                prevAnuncios.map(a => \n                    a.ID_Anuncio === selectedAnuncio.ID_Anuncio ? response.anuncio : a\n                )\n            );\n\n            setMessage(response.message || 'Estado atualizado com sucesso!');\n            // Keep modal open after status change\n\n        } catch (err) {\n            console.error('Erro ao atualizar estado do anúncio:', err);\n            setError(err.message || 'Falha ao atualizar estado.');\n        } finally {\n            setIsUpdatingStatus(false);\n        }\n    };\n    // --- --- --- --- --- --- --- --- --- --- ---\n\n    return (\n        <>\n            <Header />\n            <Container className=\"my-5\">\n                <Card className=\"shadow-sm mb-4\">\n                    <Card.Header className=\"bg-primary text-white d-flex justify-content-between align-items-center\">\n                        <h2 className=\"mb-0\">Gestão de Anúncios</h2>\n                    </Card.Header>\n                    <Card.Body>\n                        {error && <Alert variant=\"danger\">{error}</Alert>}\n                        \n                        {/* --- Filter Controls --- */} \n                        <Row className=\"mb-3 gx-2\">\n                            <Col md={4}>\n                                <InputGroup>\n                                    <InputGroup.Text><i className=\"fas fa-search\"></i></InputGroup.Text>\n                                    <FormControl\n                                        placeholder=\"Pesquisar título, descrição, utilizador...\"\n                                        value={searchTerm}\n                                        onChange={(e) => setSearchTerm(e.target.value)}\n                                    />\n                                </InputGroup>\n                            </Col>\n                            <Col md={2}>\n                                <Form.Select value={filterStatus} onChange={(e) => setFilterStatus(e.target.value)} title=\"Filtrar por Estado\">\n                                    {statusOptions.map(opt => <option key={`status-${opt.id}`} value={opt.id}>{opt.name}</option>)}\n                                </Form.Select>\n                            </Col>\n                            <Col md={2}>\n                                <Form.Select value={filterCategory} onChange={(e) => setFilterCategory(e.target.value)} title=\"Filtrar por Categoria\">\n                                    {categoryOptions.map(opt => <option key={`cat-${opt.ID_Categoria}`} value={opt.ID_Categoria}>{opt.Descricao_Categoria}</option>)}\n                                </Form.Select>\n                            </Col>\n                            <Col md={2}>\n                                <Form.Select value={filterType} onChange={(e) => setFilterType(e.target.value)} title=\"Filtrar por Tipo\">\n                                    {typeOptions.map(opt => <option key={`type-${opt.ID_Tipo}`} value={opt.ID_Tipo}>{opt.Descricao_TipoItem}</option>)}\n                                </Form.Select>\n                            </Col>\n                            <Col md={2} className=\"d-flex align-items-end justify-content-end\">\n                                <Button variant=\"outline-secondary\" onClick={() => { setSearchTerm(''); setFilterStatus(''); setFilterCategory(''); setFilterType(''); }} title=\"Limpar Filtros\">\n                                    <i className=\"fas fa-times\"></i> Limpar\n                                </Button>\n                            </Col>\n                        </Row>\n                        {/* --- --- --- --- --- --- --- */} \n\n                        {loading ? (\n                            <div className=\"text-center py-5\">\n                                <Spinner animation=\"border\" variant=\"primary\" />\n                                <p className=\"mt-3\">A carregar anúncios...</p>\n                            </div>\n                        ) : (\n                            <>\n                                <div className=\"mb-2 text-muted small\">A mostrar {filteredAnuncios.length} de {allAnuncios.length} anúncios</div>\n                                <Table responsive hover className=\"align-middle\">\n                                    <thead className=\"bg-light\">\n                                        <tr>\n                                            <th style={{ width: '5%' }}></th> {/* Image Thumbnail */} \n                                            <th>Título</th>\n                                            <th>Utilizador</th>\n                                            <th>Preço</th>\n                                            <th>Categoria / Tipo</th>\n                                            <th>Estado</th>\n                                            <th>Ações</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {filteredAnuncios.length > 0 ? (\n                                            filteredAnuncios.map(anuncio => {\n                                                const firstImage = anuncio.item_imagems?.[0]?.imagem;\n                                                return (\n                                                    <tr key={anuncio.ID_Anuncio}>\n                                                        <td>\n                                                            {firstImage ? (\n                                                                <Image \n                                                                    src={`${getStorageBaseUrl()}/storage/${firstImage.Caminho}`} \n                                                                    thumbnail \n                                                                    width=\"50\" \n                                                                    onError={(e) => { e.target.style.display='none'; }}/>\n                                                            ) : (\n                                                                <div className=\"bg-light text-center d-flex align-items-center justify-content-center\" style={{width: '50px', height: '50px'}}>\n                                                                     <i className=\"fas fa-image text-muted\"></i>\n                                                                </div>\n                                                            )}\n                                                        </td>\n                                                        <td>{anuncio.Titulo}</td>\n                                                        <td>{anuncio.utilizador?.Name || 'N/A'}</td>\n                                                        <td>{formatCurrency(anuncio.Preco)}</td>\n                                                        <td>\n                                                            <CategoriaBadge categoria={anuncio.categorium} /><br/>\n                                                            <TipoItemBadge tipoItem={anuncio.tipo_item} />\n                                                        </td>\n                                                        <td>\n                                                            <AnuncioStatusBadge statusId={anuncio.Status_AnuncioID_Status_Anuncio} />\n                                                        </td>\n                                                        <td>\n                                                            <Button \n                                                                variant=\"outline-primary\" \n                                                                size=\"sm\" \n                                                                title=\"Ver Detalhes\" \n                                                                onClick={() => openDetailsModal(anuncio)}\n                                                            >\n                                                                <i className=\"fas fa-eye\"></i>\n                                                            </Button>\n                                                        </td>\n                                                    </tr>\n                                                );\n                                            })\n                                        ) : (\n                                            <tr>\n                                                <td colSpan=\"7\" className=\"text-center text-muted py-4\">\n                                                    Nenhum anúncio encontrado com os filtros atuais.\n                                                </td>\n                                            </tr>\n                                        )}\n                                    </tbody>\n                                </Table>\n                            </>\n                        )}\n                    </Card.Body>\n                </Card>\n            </Container>\n\n            {/* --- Details Modal --- */}\n            <Modal show={showDetailsModal} onHide={closeDetailsModal} size=\"lg\">\n                <Modal.Header closeButton>\n                    <Modal.Title>Detalhes do Anúncio</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    {selectedAnuncio && (\n                        <Row>\n                            <Col md={6} className=\"mb-3 mb-md-0\">\n                                {selectedAnuncio.item_imagems && selectedAnuncio.item_imagems.length > 0 ? (\n                                    <Carousel interval={null}>\n                                        {selectedAnuncio.item_imagems.map((img, index) => (\n                                            <Carousel.Item key={img.ID_Imagem || index}>\n                                                <img\n                                                    className=\"d-block w-100\" \n                                                    src={`${getStorageBaseUrl()}/storage/${img.imagem?.Caminho}`}\n                                                    alt={`Imagem ${index + 1}`}\n                                                    style={{ height: '400px', objectFit: 'contain' }}\n                                                    onError={(e) => { e.target.onerror = null; e.target.src = 'https://via.placeholder.com/400x400?text=Erro' }}\n                                                />\n                                            </Carousel.Item>\n                                        ))}\n                                    </Carousel>\n                                ) : (\n                                    <div className=\"bg-light d-flex align-items-center justify-content-center\" style={{ height: '400px' }}>\n                                        <i className=\"fas fa-image fa-5x text-muted\"></i>\n                                    </div>\n                                )}\n                            </Col>\n                            <Col md={6}>\n                                <h5>{selectedAnuncio.Titulo}</h5>\n                                <ListGroup variant=\"flush\">\n                                    <ListGroup.Item><strong>Preço:</strong> {formatCurrency(selectedAnuncio.Preco)}</ListGroup.Item>\n                                    <ListGroup.Item><strong>Estado:</strong> <AnuncioStatusBadge statusId={selectedAnuncio.Status_AnuncioID_Status_Anuncio} /></ListGroup.Item>\n                                    <ListGroup.Item><strong>Categoria:</strong> {selectedAnuncio.categorium?.Descricao_Categoria || 'N/A'}</ListGroup.Item>\n                                    <ListGroup.Item><strong>Tipo:</strong> {selectedAnuncio.tipo_item?.Descricao_TipoItem || 'N/A'}</ListGroup.Item>\n                                    <ListGroup.Item><strong>Descrição:</strong><br/><p style={{ maxHeight: '150px', overflowY: 'auto', whiteSpace: 'pre-wrap' }}>{selectedAnuncio.Descricao || 'N/A'}</p></ListGroup.Item>\n                                    <ListGroup.Item>\n                                        <strong>Utilizador:</strong> {selectedAnuncio.utilizador?.Name || 'N/A'} (@{selectedAnuncio.utilizador?.User_Name || 'N/A'})\n                                    </ListGroup.Item>\n                                </ListGroup>\n                                \n                                {/* --- Status Change Dropdown --- */} \n                                <Form.Group className=\"mt-3\">\n                                    <Form.Label><strong>Alterar Estado:</strong></Form.Label>\n                                    <Dropdown onSelect={(eventKey) => handleStatusChange(parseInt(eventKey))}>\n                                        <Dropdown.Toggle \n                                            variant=\"outline-secondary\" \n                                            id=\"dropdown-status-change\" \n                                            size=\"sm\"\n                                            disabled={isUpdatingStatus} // Disable while updating\n                                            className=\"w-100 d-flex justify-content-between align-items-center\"\n                                        >\n                                            {isUpdatingStatus ? \n                                                <Spinner as=\"span\" animation=\"border\" size=\"sm\" /> : \n                                                <AnuncioStatusBadge statusId={selectedAnuncio.Status_AnuncioID_Status_Anuncio} />\n                                            }\n                                        </Dropdown.Toggle>\n\n                                        <Dropdown.Menu className=\"w-100\">\n                                            {statusOptions.map(opt => (\n                                                // Don't show the 'All' option and the current status\n                                                opt.id !== '' && opt.id !== selectedAnuncio.Status_AnuncioID_Status_Anuncio ? (\n                                                    <Dropdown.Item \n                                                        key={`status-change-${opt.id}`} \n                                                        eventKey={opt.id.toString()} // Pass ID as eventKey\n                                                    >\n                                                       {/* Render badge inside item for visual cue */}\n                                                       <AnuncioStatusBadge statusId={opt.id} /> {opt.name} \n                                                    </Dropdown.Item>\n                                                ) : null\n                                            ))}\n                                        </Dropdown.Menu>\n                                    </Dropdown>\n                                </Form.Group>\n                                {error && <Alert variant=\"danger\" className=\"mt-2 py-1 px-2 small\">{error}</Alert>} {/* Show error specific to modal actions */} \n                            </Col>\n                        </Row>\n                    )}\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={closeDetailsModal}>\n                        Fechar\n                    </Button>\n                     {/* Show success message inside modal footer? */}\n                     {message && <span className=\"text-success ms-2 small\"><i className=\"fas fa-check-circle me-1\"></i>{message}</span>}\n                </Modal.Footer>\n            </Modal>\n            {/* --- End Details Modal --- */}\n\n            \n        </>\n    );\n};\n\nexport default AllAnuncios; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}